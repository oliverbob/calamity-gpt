/* oak build --web */
// module system
const __Oak_Modules = {};
let __Oak_Import_Aliases;
function __oak_modularize(name, fn) {
	__Oak_Modules[name] = fn;
}
function __oak_module_import(name) {
	if (typeof __Oak_Modules[name] === 'object') return __Oak_Modules[name];
	const module = __Oak_Modules[name] || __Oak_Modules[__Oak_Import_Aliases[name]];
	if (module) {
		return __Oak_Modules[name] = module();
	} else {
		throw new Error(`Could not import Oak module "${name}" at runtime`);
	}
}

// language primitives
let __oak_empty_assgn_trgt;
function __oak_eq(a, b) {
	a = __as_oak_string(a);
	b = __as_oak_string(b);
	if (a === __Oak_Empty || b === __Oak_Empty) return true;

	// match either null or undefined to compare correctly against undefined ?s
	// appearing in places like optional arguments
	if (a == null && b == null) return true;
	if (a === null || b === null) return false;

	if (typeof a !== typeof b) return false;
	if (__is_oak_string(a) && __is_oak_string(b)) {
		return a.valueOf() === b.valueOf();
	}
	if (typeof a === 'number' || typeof a === 'boolean' ||
		typeof a === 'function' || typeof a === 'symbol') {
		return a === b;
	}

	// deep equality check for composite values
	if (!Array.isArray(a) && typeof a !== 'object') return false;
	if (len(a) !== len(b)) return false;
	for (const key of keys(a)) {
		if (!__oak_eq(a[key], b[key])) return false;
	}
	return true;
}
function __oak_push(a, b) {
	a = __as_oak_string(a);
	a.push(b);
	return a;
}
function __oak_and(a, b) {
	if (typeof a === 'boolean' && typeof b === 'boolean') {
		return a && b;
	}
	if (__is_oak_string(a) && __is_oak_string(b)) {
		const max = Math.max(a.length, b.length);
		const get = (s, i) => s.valueOf().charCodeAt(i) || 0;

		let res = '';
		for (let i = 0; i < max; i ++) {
			res += String.fromCharCode(get(a, i) & get(b, i));
		}
		return res;
	}
	return a & b;
}
function __oak_or(a, b) {
	if (typeof a === 'boolean' && typeof b === 'boolean') {
		return a || b;
	}
	if (__is_oak_string(a) && __is_oak_string(b)) {
		const max = Math.max(a.length, b.length);
		const get = (s, i) => s.valueOf().charCodeAt(i) || 0;

		let res = '';
		for (let i = 0; i < max; i ++) {
			res += String.fromCharCode(get(a, i) | get(b, i));
		}
		return res;
	}
	return a | b;
}
function __oak_xor(a, b) {
	if (typeof a === 'boolean' && typeof b === 'boolean') {
		return (a && !b) || (!a && b);
	}
	if (__is_oak_string(a) && __is_oak_string(b)) {
		const max = Math.max(a.length, b.length);
		const get = (s, i) => s.valueOf().charCodeAt(i) || 0;

		let res = '';
		for (let i = 0; i < max; i ++) {
			res += String.fromCharCode(get(a, i) ^ get(b, i));
		}
		return res;
	}
	return a ^ b;
}
function __oak_if(cond, branches) {
	for (const [target, body] of branches) {
		if (__oak_eq(cond, target())) return body();
	}
	return null;
}
const __Oak_Empty = Symbol('__Oak_Empty');

// mutable string type
function __is_oak_string(x) {
	if (x == null) return false;
	return x.__mark_oak_string;
}
function __as_oak_string(x) {
	if (typeof x === 'string') return __Oak_String(x);
	return x;
}
const __Oak_String = s => {
	if (__is_oak_string(s)) return s;
	return {
		__mark_oak_string: true,
		assign(i, slice) {
			if (i === s.length) return s += slice;
			return s = s.substr(0, i) + slice + s.substr(i + slice.length);
		},
		push(slice) {
			s += slice;
		},
		toString() {
			return s;
		},
		valueOf() {
			return s;
		},
		get length() {
			return s.length;
		},
	}
}

// tail recursion trampoline helpers
function __oak_resolve_trampoline(fn, ...args) {
	let rv = fn(...args);
	while (rv && rv.__is_oak_trampoline) {
		rv = rv.fn(...rv.args);
	}
	return rv;
}
function __oak_trampoline(fn, ...args) {
	return {
		__is_oak_trampoline: true,
		fn: fn,
		args: args,
	}
}

// env (builtin) functions

// reflection and types
const __Is_Oak_Node = typeof process === 'object';
const __Oak_Int_RE = /^[+-]?\d+$/;
function int(x) {
	x = __as_oak_string(x);
	if (typeof x === 'number') {
		// JS rounds towards higher magnitude, Oak rounds towards higher value
		const rounded = Math.floor(x);
		const diff = x - rounded;
		if (x < 0 && diff === 0.5) return rounded + 1;
		return rounded;
	}
	if (__is_oak_string(x) && __Oak_Int_RE.test(x.valueOf())) {
		const i = Number(x.valueOf());
		if (isNaN(i)) return null;
		return i;
	}
	return null;
}
function float(x) {
	x = __as_oak_string(x);
	if (typeof x === 'number') return x;
	if (__is_oak_string(x)) {
		const f = parseFloat(x.valueOf());
		if (isNaN(f)) return null;
		return f;
	}
	return null;
}
function atom(x) {
	x = __as_oak_string(x);
	if (typeof x === 'symbol' && x !== __Oak_Empty) return x;
	if (__is_oak_string(x)) return Symbol.for(x.valueOf());
	return Symbol.for(string(x));
}
function string(x) {
	x = __as_oak_string(x);
	function display(x) {
		x = __as_oak_string(x);
		if (__is_oak_string(x)) {
			return '\'' + x.valueOf().replace('\\', '\\\\').replace('\'', '\\\'') + '\'';
		} else if (typeof x === 'symbol') {
			if (x === __Oak_Empty) return '_';
			return ':' + Symbol.keyFor(x);
		}
		return string(x);
	}
	if (x === null) {
		return '?';
	} else if (typeof x === 'number') {
		return x.toString();
	} else if (__is_oak_string(x)) {
		return x;
	} else if (typeof x === 'boolean') {
		return x.toString();
	} else if (typeof x === 'function') {
		return x.toString();
	} else if (typeof x === 'symbol') {
		if (x === __Oak_Empty) return '_';
		return Symbol.keyFor(x);
	} else if (Array.isArray(x)) {
		return '[' + x.map(display).join(', ') + ']';
	} else if (typeof x === 'object') {
		const entries = [];
		for (const key of keys(x).sort()) {
			entries.push(`${key}: ${display(x[key])}`);
		}
		return '{' + entries.join(', ') + '}';
	}
	throw new Error('string() called on unknown type ' + x.toString());
}
function codepoint(c) {
	c = __as_oak_string(c);
	return c.valueOf().charCodeAt(0);
}
function char(n) {
	return String.fromCharCode(n);
}
function type(x) {
	x = __as_oak_string(x);
	if (x === null) {
		return Symbol.for('null');
	} else if (typeof x === 'number') {
		// Many discrete APIs check for :int, so we consider all integer
		// numbers :int and fall back to :float. This is not an airtight
		// solution, but works well enough and the alternative (tagged number
		// values/types) have poor perf tradeoffs.
		if (Number.isInteger(x)) return Symbol.for('int');
		return Symbol.for('float');
	} else if (__is_oak_string(x)) {
		return Symbol.for('string');
	} else if (typeof x === 'boolean') {
		return Symbol.for('bool');
	} else if (typeof x === 'symbol') {
		if (x === __Oak_Empty) return Symbol.for('empty');
		return Symbol.for('atom');
	} else if (typeof x === 'function') {
		return Symbol.for('function');
	} else if (Array.isArray(x)) {
		return Symbol.for('list');
	} else if (typeof x === 'object') {
		return Symbol.for('object');
	}
	throw new Error('type() called on unknown type ' + x.toString());
}
function len(x) {
	x = __as_oak_string(x);
	if (__is_oak_string(x)) {
		return x.length;
	} else if (Array.isArray(x)) {
		return x.length;
	} else if (typeof x === 'object' && x !== null) {
		return Object.getOwnPropertyNames(x).length;
	}
	throw new Error('len() takes a string or composite value, but got ' + string(x));
}
function keys(x) {
	if (Array.isArray(x)) {
		const k = [];
		for (let i = 0; i < x.length; i ++) k.push(i);
		return k;
	} else if (typeof x === 'object' && x !== null) {
		return Object.getOwnPropertyNames(x).map(__as_oak_string);
	}
	throw new Error('keys() takes a composite value, but got ' + string(x).valueOf());
}

// OS interfaces
function args() {
	if (__Is_Oak_Node) return process.argv.map(__as_oak_string);
	return [window.location.href];
}
function env() {
	if (__Is_Oak_Node) {
		const e = Object.assign({}, process.env);
		for (const key in e) {
			e[key] = __as_oak_string(e[key]);
		}
		return e;
	}
	return {};
}
function time() {
	return Date.now() / 1000;
}
function nanotime() {
	return int(Date.now() * 1000000);
}
function rand() {
	return Math.random();
}
let randomBytes;
function srand(length) {
	if (__Is_Oak_Node) {
		// lazily import dependency
		if (!randomBytes) randomBytes = require('crypto').randomBytes;
		return randomBytes(length).toString('latin1');
	}

	const bytes = crypto.getRandomValues(new Uint8Array(length));
	return __as_oak_string(Array.from(bytes).map(b => String.fromCharCode(b)).join(''));
}
function wait(duration, cb) {
	setTimeout(cb, duration * 1000);
	return null;
}
function exit(code) {
	if (__Is_Oak_Node) process.exit(code);
	return null;
}
function exec() {
	throw new Error('exec() not implemented');
}

// I/O
function input() {
	throw new Error('input() not implemented');
}
function print(s) {
	s = __as_oak_string(s);
	if (__Is_Oak_Node) {
		process.stdout.write(string(s).toString());
	} else {
		console.log(string(s).toString());
	}
	return s.length;
}
function ls() {
	throw new Error('ls() not implemented');
}
function rm() {
	throw new Error('rm() not implemented');
}
function mkdir() {
	throw new Error('mkdir() not implemented');
}
function stat() {
	throw new Error('stat() not implemented');
}
function open() {
	throw new Error('open() not implemented');
}
function close() {
	throw new Error('close() not implemented');
}
function read() {
	throw new Error('read() not implemented');
}
function write() {
	throw new Error('write() not implemented');
}
function listen() {
	throw new Error('listen() not implemented');
}
function req() {
	throw new Error('req() not implemented');
}

// math
function sin(n) {
	return Math.sin(n);
}
function cos(n) {
	return Math.cos(n);
}
function tan(n) {
	return Math.tan(n);
}
function asin(n) {
	return Math.asin(n);
}
function acos(n) {
	return Math.acos(n);
}
function atan(n) {
	return Math.atan(n);
}
function pow(b, n) {
	return Math.pow(b, n);
}
function log(b, n) {
	return Math.log(n) / Math.log(b);
}

// runtime
function ___runtime_lib() {
	throw new Error('___runtime_lib() not implemented');
}
function ___runtime_lib__oak_qm() {
	throw new Error('___runtime_lib?() not implemented');
}

// JavaScript interop
function bind(target, fn) {
	const fnName = Symbol.keyFor(fn);
	return target[fnName].bind(target);
}
function __oak_js_new(Constructor, ...args) {
	return new Constructor(...args);
}
(__oak_modularize(__Oak_String(`lib/storage.oak`),function _(){return (()=>{ let PersistenceInterval;let __module;let debounce;let json;let load;let persist;let persistImmediately;(__module={});({debounce:debounce=null}=__oak_module_import(__Oak_String(`std`)));(json=__oak_module_import(__Oak_String(`json`)));(PersistenceInterval=1);load=function load(key=null,defaultData=null){return (()=>{ let data;let getItem;(getItem=bind((()=>{let __oak_acc_trgt=__as_oak_string(window);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[localStorage])||null:(__oak_acc_trgt.localStorage!==undefined?__oak_acc_trgt.localStorage:null)})(),Symbol.for('getItem')));return __oak_if((data=getItem(key)),[[()=>(null),()=>(defaultData)],[()=>(__Oak_Empty),()=>((()=>{let __oak_acc_trgt=__as_oak_string(json);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[parse])||null:(__oak_acc_trgt.parse!==undefined?__oak_acc_trgt.parse:null)})()(data))]]) })()};persistImmediately=function persistImmediately(key=null,data=null){return (()=>{ let serialized;let setItem;(serialized=(()=>{let __oak_acc_trgt=__as_oak_string(json);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[serialize])||null:(__oak_acc_trgt.serialize!==undefined?__oak_acc_trgt.serialize:null)})()(data));(setItem=bind((()=>{let __oak_acc_trgt=__as_oak_string(window);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[localStorage])||null:(__oak_acc_trgt.localStorage!==undefined?__oak_acc_trgt.localStorage:null)})(),Symbol.for('setItem')));return setItem(key,serialized) })()};(persist=debounce(PersistenceInterval,persistImmediately));(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(PersistenceInterval,PersistenceInterval):((__oak_assgn_trgt.PersistenceInterval)=PersistenceInterval);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(debounce,debounce):((__oak_assgn_trgt.debounce)=debounce);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(json,json):((__oak_assgn_trgt.json)=json);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(load,load):((__oak_assgn_trgt.load)=load);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(persist,persist):((__oak_assgn_trgt.persist)=persist);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(persistImmediately,persistImmediately):((__oak_assgn_trgt.persistImmediately)=persistImmediately);return __oak_assgn_trgt})();return __module })()}),__oak_modularize(__Oak_String(`lib/torus.js.oak`),function _(){return (()=>{ let Renderer;let __module;let __oak_js_default;let h;let map;(__module={});({__oak_js_default:__oak_js_default=null,map:map=null}=__oak_module_import(__Oak_String(`std`)));h=function h(tag=null,...args){return (()=>{ let attrs;let children;let classes;let events;__oak_if(len(args),[[()=>(0),()=>(null)],[()=>(1),()=>(([children=null]=args))],[()=>(2),()=>(([classes,children=null]=args))],[()=>(3),()=>(([classes,attrs,children=null]=args))],[()=>(__Oak_Empty),()=>(([classes,attrs,events,children=null]=args))]]);(classes=__oak_js_default(classes,[]));(attrs=__oak_js_default(attrs,{}));(events=__oak_js_default(events,{}));(children=__oak_js_default(children,[]));return {tag:String(string(tag)),attrs:(()=>{let __oak_assgn_trgt=__as_oak_string(attrs);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(__Oak_String(`class`),map(classes,String)):((__oak_assgn_trgt[__Oak_String(`class`)])=map(classes,String));return __oak_assgn_trgt})(),events:events,children:map(children,function _(child=null){return __oak_if(type(child),[[()=>(Symbol.for('string')),()=>(String(child))],[()=>(__Oak_Empty),()=>(child)]])})} })()};Renderer=function Renderer(root=null){return (()=>{ let initialDOM;let node;let render;let self;let update;__oak_if(type(root),[[()=>(Symbol.for('string')),()=>((root=bind(document,Symbol.for('querySelector'))(root)))]]);(render=(()=>{let __oak_acc_trgt=__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(window);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[Torus])||null:(__oak_acc_trgt.Torus!==undefined?__oak_acc_trgt.Torus:null)})());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[render])||null:(__oak_acc_trgt.render!==undefined?__oak_acc_trgt.render:null)})());(initialDOM=h(Symbol.for('div')));(node=render(null,null,initialDOM));bind(root,Symbol.for('appendChild'))(node);return (self={node:node,prev:initialDOM,update:update=function update(jdom=null){return ((()=>{let __oak_assgn_trgt=__as_oak_string(self);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(node,render((()=>{let __oak_acc_trgt=__as_oak_string(self);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[node])||null:(__oak_acc_trgt.node!==undefined?__oak_acc_trgt.node:null)})(),(()=>{let __oak_acc_trgt=__as_oak_string(self);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[prev])||null:(__oak_acc_trgt.prev!==undefined?__oak_acc_trgt.prev:null)})(),jdom)):((__oak_assgn_trgt.node)=render((()=>{let __oak_acc_trgt=__as_oak_string(self);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[node])||null:(__oak_acc_trgt.node!==undefined?__oak_acc_trgt.node:null)})(),(()=>{let __oak_acc_trgt=__as_oak_string(self);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[prev])||null:(__oak_acc_trgt.prev!==undefined?__oak_acc_trgt.prev:null)})(),jdom));return __oak_assgn_trgt})(),(()=>{let __oak_assgn_trgt=__as_oak_string(self);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(prev,jdom):((__oak_assgn_trgt.prev)=jdom);return __oak_assgn_trgt})(),(()=>{let __oak_acc_trgt=__as_oak_string(self);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[node])||null:(__oak_acc_trgt.node!==undefined?__oak_acc_trgt.node:null)})())}}) })()};(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(Renderer,Renderer):((__oak_assgn_trgt.Renderer)=Renderer);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(__oak_js_default,__oak_js_default):((__oak_assgn_trgt.__oak_js_default)=__oak_js_default);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(h,h):((__oak_assgn_trgt.h)=h);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(map,map):((__oak_assgn_trgt.map)=map);return __oak_assgn_trgt})();return __module })()}),__oak_modularize(__Oak_String(`src/app.js.oak`),function _(){return (()=>{ let DefaultN;let DefaultTokens;let Renderer;let State;let StateStorageKey;let __module;let append;let cloneDoc;let currentDoc;let datetime;let __oak_js_default;let endsWith__oak_qm;let fetchCompletion;let filter;let fmt;let focusPromptInput;let h;let insertDoc;let json;let map;let merge;let padStart;let persistAndRender;let println;let r;let render;let slice;let storage;let trim;let truncate;let updateCompletions;(__module={});({println:println=null,__oak_js_default:__oak_js_default=null,slice:slice=null,map:map=null,merge:merge=null,filter:filter=null,append:append=null}=__oak_module_import(__Oak_String(`std`)));({endsWith__oak_qm:endsWith__oak_qm=null,padStart:padStart=null,trim:trim=null}=__oak_module_import(__Oak_String(`str`)));(fmt=__oak_module_import(__Oak_String(`fmt`)));(datetime=__oak_module_import(__Oak_String(`datetime`)));(json=__oak_module_import(__Oak_String(`json`)));(storage=__oak_module_import(__Oak_String(`lib/storage.oak`)));({Renderer:Renderer=null,h:h=null}=__oak_module_import(__Oak_String(`lib/torus.js.oak`)));(DefaultTokens=20);(DefaultN=5);(StateStorageKey=__Oak_String(`calamity_db`));(State=(()=>{let __oak_acc_trgt=__as_oak_string(storage);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[load])||null:(__oak_acc_trgt.load!==undefined?__oak_acc_trgt.load:null)})()(StateStorageKey,{fetching__oak_qm:false,docIdx:0,docs:[{params:{tokens:DefaultTokens,n:DefaultN},prompt:__Oak_String(``),completions:[],created:int(time())}]}));fetchCompletion=function fetchCompletion(prompt=null,withCompletions=null){return (()=>{ let handleErr;let jsonResp;let n;let resp;let tokens;render((()=>{let __oak_assgn_trgt=__as_oak_string(State);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(fetching__oak_qm,true):((__oak_assgn_trgt.fetching__oak_qm)=true);return __oak_assgn_trgt})());({tokens:tokens=null,n:n=null}=(()=>{let __oak_acc_trgt=__as_oak_string(currentDoc());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[params])||null:(__oak_acc_trgt.params!==undefined?__oak_acc_trgt.params:null)})());(resp=fetch(__Oak_String(`/gen`),{method:__Oak_String(`POST`),body:(()=>{let __oak_acc_trgt=__as_oak_string(json);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[serialize])||null:(__oak_acc_trgt.serialize!==undefined?__oak_acc_trgt.serialize:null)})()({text:prompt,tokens:tokens,n:n})}));handleErr=function handleErr(e=null){return (render((()=>{let __oak_assgn_trgt=__as_oak_string(State);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(fetching__oak_qm,__as_oak_string(__as_oak_string(__Oak_String(`(error: `)+bind(e,Symbol.for('toString'))())+__Oak_String(`)`))):((__oak_assgn_trgt.fetching__oak_qm)=__as_oak_string(__as_oak_string(__Oak_String(`(error: `)+bind(e,Symbol.for('toString'))())+__Oak_String(`)`)));return __oak_assgn_trgt})()))};bind(resp,Symbol.for('catch'))(handleErr);(jsonResp=bind(resp,Symbol.for('then'))(function _(r=null){return __oak_if((()=>{let __oak_acc_trgt=__as_oak_string(r);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[status])||null:(__oak_acc_trgt.status!==undefined?__oak_acc_trgt.status:null)})(),[[()=>(200),()=>(bind(r,Symbol.for('json'))())],[()=>(__Oak_Empty),()=>(handleErr(__Oak_String(`Request failed.`)))]])}));bind(jsonResp,Symbol.for('catch'))(handleErr);return bind(jsonResp,Symbol.for('then'))(function _(data=null){return __oak_if(data,[[()=>(null),()=>(handleErr(__Oak_String(`Request serialization failed.`)))],[()=>(__Oak_Empty),()=>((render((()=>{let __oak_assgn_trgt=__as_oak_string(State);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(fetching__oak_qm,false):((__oak_assgn_trgt.fetching__oak_qm)=false);return __oak_assgn_trgt})()),withCompletions(data)))]])}) })()};updateCompletions=function updateCompletions(){return __oak_if((()=>{let __oak_acc_trgt=__as_oak_string(State);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[fetching__oak_qm])||null:(__oak_acc_trgt.fetching__oak_qm!==undefined?__oak_acc_trgt.fetching__oak_qm:null)})(),[[()=>(true),()=>(null)],[()=>(__Oak_Empty),()=>((()=>{ let doc;let prompt;(doc=currentDoc());(prompt=(()=>{let __oak_acc_trgt=__as_oak_string(doc);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[prompt])||null:(__oak_acc_trgt.prompt!==undefined?__oak_acc_trgt.prompt:null)})());return fetchCompletion(prompt,function _(completions=null){return ((()=>{let __oak_assgn_trgt=__as_oak_string(doc);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(completions,map(completions,function _(completion=null){return [prompt,slice(completion,len(prompt))]})):((__oak_assgn_trgt.completions)=map(completions,function _(completion=null){return [prompt,slice(completion,len(prompt))]}));return __oak_assgn_trgt})(),persistAndRender())}) })())]])};currentDoc=function currentDoc(){let doc;return __oak_if((doc=(()=>{let __oak_acc_trgt=__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(State);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[docs])||null:(__oak_acc_trgt.docs!==undefined?__oak_acc_trgt.docs:null)})());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[((()=>{let __oak_acc_trgt=__as_oak_string(State);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[docIdx])||null:(__oak_acc_trgt.docIdx!==undefined?__oak_acc_trgt.docIdx:null)})())])||null:(__oak_acc_trgt[((()=>{let __oak_acc_trgt=__as_oak_string(State);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[docIdx])||null:(__oak_acc_trgt.docIdx!==undefined?__oak_acc_trgt.docIdx:null)})())]!==undefined?__oak_acc_trgt[((()=>{let __oak_acc_trgt=__as_oak_string(State);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[docIdx])||null:(__oak_acc_trgt.docIdx!==undefined?__oak_acc_trgt.docIdx:null)})())]:null)})()),[[()=>(null),()=>((()=>{let __oak_acc_trgt=__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(State);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[docs])||null:(__oak_acc_trgt.docs!==undefined?__oak_acc_trgt.docs:null)})());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[((()=>{let __oak_assgn_trgt=__as_oak_string(State);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(docIdx,0):((__oak_assgn_trgt.docIdx)=0);return __oak_assgn_trgt})())])||null:(__oak_acc_trgt[((()=>{let __oak_assgn_trgt=__as_oak_string(State);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(docIdx,0):((__oak_assgn_trgt.docIdx)=0);return __oak_assgn_trgt})())]!==undefined?__oak_acc_trgt[((()=>{let __oak_assgn_trgt=__as_oak_string(State);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(docIdx,0):((__oak_assgn_trgt.docIdx)=0);return __oak_assgn_trgt})())]:null)})())],[()=>(__Oak_Empty),()=>(doc)]])};truncate=function truncate(s=null,n=null){return __oak_if((len(s)<n),[[()=>(true),()=>(s)],[()=>(__Oak_Empty),()=>(__as_oak_string(slice(s,0,n)+__Oak_String(`...`)))]])};focusPromptInput=function focusPromptInput(){return (()=>{ let promptEditor;return __oak_if((promptEditor=bind(document,Symbol.for('querySelector'))(__Oak_String(`.prompt-editor-input`))),[[()=>(null),()=>(null)],[()=>(__Oak_Empty),()=>((bind(promptEditor,Symbol.for('focus'))(),bind(promptEditor,Symbol.for('setSelectionRange'))(len((()=>{let __oak_acc_trgt=__as_oak_string(promptEditor);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[value])||null:(__oak_acc_trgt.value!==undefined?__oak_acc_trgt.value:null)})()),len((()=>{let __oak_acc_trgt=__as_oak_string(promptEditor);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[value])||null:(__oak_acc_trgt.value!==undefined?__oak_acc_trgt.value:null)})()))))]]) })()};insertDoc=function insertDoc(attrs=null){return (()=>{ let newDoc;(newDoc=merge({params:{tokens:DefaultTokens,n:DefaultN},prompt:__Oak_String(``),completions:[]},attrs,{created:int(time())}));(()=>{let __oak_assgn_trgt=__as_oak_string(State);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(docs,append([newDoc],(()=>{let __oak_acc_trgt=__as_oak_string(State);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[docs])||null:(__oak_acc_trgt.docs!==undefined?__oak_acc_trgt.docs:null)})())):((__oak_assgn_trgt.docs)=append([newDoc],(()=>{let __oak_acc_trgt=__as_oak_string(State);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[docs])||null:(__oak_acc_trgt.docs!==undefined?__oak_acc_trgt.docs:null)})()));return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(State);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(docIdx,0):((__oak_assgn_trgt.docIdx)=0);return __oak_assgn_trgt})();persistAndRender();return focusPromptInput() })()};cloneDoc=function cloneDoc(doc=null){return (()=>{let __oak_acc_trgt=__as_oak_string(json);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[parse])||null:(__oak_acc_trgt.parse!==undefined?__oak_acc_trgt.parse:null)})()((()=>{let __oak_acc_trgt=__as_oak_string(json);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[serialize])||null:(__oak_acc_trgt.serialize!==undefined?__oak_acc_trgt.serialize:null)})()(doc))};persistAndRender=function persistAndRender(){return ((()=>{let __oak_acc_trgt=__as_oak_string(storage);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[persist])||null:(__oak_acc_trgt.persist!==undefined?__oak_acc_trgt.persist:null)})()(StateStorageKey,State),render())};(r=Renderer(__Oak_String(`#root`)));render=function render(){return ((()=>{let __oak_acc_trgt=__as_oak_string(r);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[update])||null:(__oak_acc_trgt.update!==undefined?__oak_acc_trgt.update:null)})()(h(Symbol.for('div'),[__Oak_String(`app`)],[h(Symbol.for('div'),[__Oak_String(`sidebar`)],[h(Symbol.for('div'),[__Oak_String(`logo`)],[h(Symbol.for('a'),[],{href:__Oak_String(`/`)},[__Oak_String(`Calamity`),h(Symbol.for('span'),[__Oak_String(`logo-faded`)],[__Oak_String(`, an AI notebook`)])])]),h(Symbol.for('div'),[__Oak_String(`docs-list-container`)],[h(Symbol.for('ul'),[__Oak_String(`docs-list`)],(()=>{ let addDocButton;let docItems;(addDocButton=h(Symbol.for('li'),[__Oak_String(`floating`),__Oak_String(`inactive`),__Oak_String(`docs-item`),__Oak_String(`new-doc-button`)],{},{click:function _(){return insertDoc({})}},[__Oak_String(`+ New prompt`)]));(docItems=map((()=>{let __oak_acc_trgt=__as_oak_string(State);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[docs])||null:(__oak_acc_trgt.docs!==undefined?__oak_acc_trgt.docs:null)})(),function _(doc=null,i=null){return (()=>{ let emptyPrompt__oak_qm;(emptyPrompt__oak_qm=__oak_eq(trim((()=>{let __oak_acc_trgt=__as_oak_string(doc);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[prompt])||null:(__oak_acc_trgt.prompt!==undefined?__oak_acc_trgt.prompt:null)})()),__Oak_String(``)));return h(Symbol.for('li'),[__Oak_String(`floating`),__Oak_String(`docs-item`),__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(State);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[docIdx])||null:(__oak_acc_trgt.docIdx!==undefined?__oak_acc_trgt.docIdx:null)})(),[[()=>(i),()=>(__Oak_String(`active`))],[()=>(__Oak_Empty),()=>(__Oak_String(`inactive`))]]),__oak_if(true,[[()=>(emptyPrompt__oak_qm),()=>(__Oak_String(`empty`))],[()=>(__Oak_Empty),()=>(__Oak_String(``))]]),__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(doc);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[fav])||null:(__oak_acc_trgt.fav!==undefined?__oak_acc_trgt.fav:null)})(),[[()=>(true),()=>(__Oak_String(`favorited`))],[()=>(__Oak_Empty),()=>(__Oak_String(``))]])],{title:(()=>{let __oak_acc_trgt=__as_oak_string(doc);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[prompt])||null:(__oak_acc_trgt.prompt!==undefined?__oak_acc_trgt.prompt:null)})()},{click:function _(){return ((()=>{let __oak_assgn_trgt=__as_oak_string(State);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(docIdx,i):((__oak_assgn_trgt.docIdx)=i);return __oak_assgn_trgt})(),persistAndRender())}},[h(Symbol.for('div'),[__Oak_String(`docs-item-content`)],[__oak_if(true,[[()=>(emptyPrompt__oak_qm),()=>(__Oak_String(`empty`))],[()=>(__Oak_Empty),()=>(truncate((()=>{let __oak_acc_trgt=__as_oak_string(doc);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[prompt])||null:(__oak_acc_trgt.prompt!==undefined?__oak_acc_trgt.prompt:null)})(),72))]])]),h(Symbol.for('div'),[__Oak_String(`docs-item-meta`)],[(()=>{ let day;let hour;let min;let month;let year;({year:year=null,month:month=null,day:day=null,hour:hour=null,minute:min=null}=(()=>{let __oak_acc_trgt=__as_oak_string(datetime);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[describe])||null:(__oak_acc_trgt.describe!==undefined?__oak_acc_trgt.describe:null)})()((()=>{let __oak_acc_trgt=__as_oak_string(doc);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[created])||null:(__oak_acc_trgt.created!==undefined?__oak_acc_trgt.created:null)})()));return (()=>{let __oak_acc_trgt=__as_oak_string(fmt);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[format])||null:(__oak_acc_trgt.format!==undefined?__oak_acc_trgt.format:null)})()(__Oak_String(`{{0}}/{{1}}/{{2}} {{3}}:{{4}}`),year,month,day,hour,padStart(string(min),2,__Oak_String(`0`))) })()])]) })()}));return append([addDocButton],docItems) })())]),h(Symbol.for('nav'),[],[h(Symbol.for('a'),[],{href:__Oak_String(`/about/`)},[__Oak_String(`about`)])])]),h(Symbol.for('main'),[],[(()=>{ let prompt;(prompt=(()=>{let __oak_acc_trgt=__as_oak_string(currentDoc());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[prompt])||null:(__oak_acc_trgt.prompt!==undefined?__oak_acc_trgt.prompt:null)})());return h(Symbol.for('div'),[__Oak_String(`editor-container`)],[h(Symbol.for('div'),[__Oak_String(`floating`),__Oak_String(`inactive`),__Oak_String(`editor-shadow`),__oak_if(endsWith__oak_qm(prompt,__Oak_String(`
`)),[[()=>(true),()=>(__Oak_String(`extra-height`))],[()=>(__Oak_Empty),()=>(__Oak_String(``))]])],[prompt]),h(Symbol.for('textarea'),[__Oak_String(`prompt-editor-input`),__Oak_String(`floating`),__Oak_String(`editor-itself`)],{value:prompt,placeholder:__Oak_String(`Start a prompt...`)},{input:function _(evt=null){return ((()=>{let __oak_assgn_trgt=__as_oak_string(currentDoc());__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(prompt,(()=>{let __oak_acc_trgt=__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(evt);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[target])||null:(__oak_acc_trgt.target!==undefined?__oak_acc_trgt.target:null)})());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[value])||null:(__oak_acc_trgt.value!==undefined?__oak_acc_trgt.value:null)})()):((__oak_assgn_trgt.prompt)=(()=>{let __oak_acc_trgt=__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(evt);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[target])||null:(__oak_acc_trgt.target!==undefined?__oak_acc_trgt.target:null)})());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[value])||null:(__oak_acc_trgt.value!==undefined?__oak_acc_trgt.value:null)})());return __oak_assgn_trgt})(),persistAndRender())},keydown:function _(evt=null){return __oak_if([(()=>{let __oak_acc_trgt=__as_oak_string(evt);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[key])||null:(__oak_acc_trgt.key!==undefined?__oak_acc_trgt.key:null)})(),__oak_or((()=>{let __oak_acc_trgt=__as_oak_string(evt);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[ctrlKey])||null:(__oak_acc_trgt.ctrlKey!==undefined?__oak_acc_trgt.ctrlKey:null)})(),(()=>{let __oak_acc_trgt=__as_oak_string(evt);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[metaKey])||null:(__oak_acc_trgt.metaKey!==undefined?__oak_acc_trgt.metaKey:null)})())],[[()=>([__Oak_String(`Enter`),true]),()=>(updateCompletions())]])}},[])]) })(),h(Symbol.for('div'),[__Oak_String(`ai-controls`)],[h(Symbol.for('div'),[__Oak_String(`ai-inputs`)],[h(Symbol.for('label'),[],[h(Symbol.for('span'),[__Oak_String(`label-text`)],[__Oak_String(`Tokens`)]),h(Symbol.for('input'),[__Oak_String(`floating`)],{type:__Oak_String(`number`),min:__Oak_String(`1`),max:__Oak_String(`200`),value:(()=>{let __oak_acc_trgt=__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(currentDoc());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[params])||null:(__oak_acc_trgt.params!==undefined?__oak_acc_trgt.params:null)})());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[tokens])||null:(__oak_acc_trgt.tokens!==undefined?__oak_acc_trgt.tokens:null)})()},{input:function _(evt=null){return ((()=>{let __oak_assgn_trgt=__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(currentDoc());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[params])||null:(__oak_acc_trgt.params!==undefined?__oak_acc_trgt.params:null)})());__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(tokens,__oak_js_default(int((()=>{let __oak_acc_trgt=__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(evt);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[target])||null:(__oak_acc_trgt.target!==undefined?__oak_acc_trgt.target:null)})());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[value])||null:(__oak_acc_trgt.value!==undefined?__oak_acc_trgt.value:null)})()),DefaultTokens)):((__oak_assgn_trgt.tokens)=__oak_js_default(int((()=>{let __oak_acc_trgt=__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(evt);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[target])||null:(__oak_acc_trgt.target!==undefined?__oak_acc_trgt.target:null)})());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[value])||null:(__oak_acc_trgt.value!==undefined?__oak_acc_trgt.value:null)})()),DefaultTokens));return __oak_assgn_trgt})(),persistAndRender())}},[])]),h(Symbol.for('label'),[],[h(Symbol.for('span'),[__Oak_String(`label-text`)],[__Oak_String(`Completions`)]),h(Symbol.for('input'),[__Oak_String(`floating`)],{type:__Oak_String(`number`),min:__Oak_String(`1`),max:__Oak_String(`50`),value:(()=>{let __oak_acc_trgt=__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(currentDoc());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[params])||null:(__oak_acc_trgt.params!==undefined?__oak_acc_trgt.params:null)})());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[n])||null:(__oak_acc_trgt.n!==undefined?__oak_acc_trgt.n:null)})()},{input:function _(evt=null){return ((()=>{let __oak_assgn_trgt=__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(currentDoc());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[params])||null:(__oak_acc_trgt.params!==undefined?__oak_acc_trgt.params:null)})());__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(n,__oak_js_default(int((()=>{let __oak_acc_trgt=__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(evt);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[target])||null:(__oak_acc_trgt.target!==undefined?__oak_acc_trgt.target:null)})());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[value])||null:(__oak_acc_trgt.value!==undefined?__oak_acc_trgt.value:null)})()),DefaultN)):((__oak_assgn_trgt.n)=__oak_js_default(int((()=>{let __oak_acc_trgt=__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(evt);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[target])||null:(__oak_acc_trgt.target!==undefined?__oak_acc_trgt.target:null)})());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[value])||null:(__oak_acc_trgt.value!==undefined?__oak_acc_trgt.value:null)})()),DefaultN));return __oak_assgn_trgt})(),persistAndRender())}},[])])]),h(Symbol.for('div'),[__Oak_String(`ai-buttons`)],[__oak_if(len((()=>{let __oak_acc_trgt=__as_oak_string(State);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[docs])||null:(__oak_acc_trgt.docs!==undefined?__oak_acc_trgt.docs:null)})()),[[()=>(1),()=>(null)],[()=>(__Oak_Empty),()=>(h(Symbol.for('button'),[__Oak_String(`floating`),__Oak_String(`ai-delete-button`)],{},{click:function _(){return ((()=>{let __oak_assgn_trgt=__as_oak_string(State);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(docs,filter((()=>{let __oak_acc_trgt=__as_oak_string(State);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[docs])||null:(__oak_acc_trgt.docs!==undefined?__oak_acc_trgt.docs:null)})(),function _(_oak_empty_ident0=null,i=null){return !__oak_eq(i,(()=>{let __oak_acc_trgt=__as_oak_string(State);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[docIdx])||null:(__oak_acc_trgt.docIdx!==undefined?__oak_acc_trgt.docIdx:null)})())})):((__oak_assgn_trgt.docs)=filter((()=>{let __oak_acc_trgt=__as_oak_string(State);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[docs])||null:(__oak_acc_trgt.docs!==undefined?__oak_acc_trgt.docs:null)})(),function _(_oak_empty_ident0=null,i=null){return !__oak_eq(i,(()=>{let __oak_acc_trgt=__as_oak_string(State);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[docIdx])||null:(__oak_acc_trgt.docIdx!==undefined?__oak_acc_trgt.docIdx:null)})())}));return __oak_assgn_trgt})(),(()=>{let __oak_assgn_trgt=__as_oak_string(State);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(docIdx,0):((__oak_assgn_trgt.docIdx)=0);return __oak_assgn_trgt})(),persistAndRender())}},[__Oak_String(`Delete`)]))]]),h(Symbol.for('button'),[__Oak_String(`floating`),__Oak_String(`ai-clone-button`)],{},{click:function _(){return insertDoc(cloneDoc(currentDoc()))}},[__Oak_String(`Clone`)]),h(Symbol.for('button'),[__Oak_String(`floating`),__Oak_String(`ai-fav-button`)],{},{click:function _(){return (__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(currentDoc());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[fav])||null:(__oak_acc_trgt.fav!==undefined?__oak_acc_trgt.fav:null)})(),[[()=>(true),()=>((delete (currentDoc().fav), currentDoc()))],[()=>(__Oak_Empty),()=>((()=>{let __oak_assgn_trgt=__as_oak_string(currentDoc());__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(fav,true):((__oak_assgn_trgt.fav)=true);return __oak_assgn_trgt})())]]),persistAndRender())}},[__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(currentDoc());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[fav])||null:(__oak_acc_trgt.fav!==undefined?__oak_acc_trgt.fav:null)})(),[[()=>(true),()=>(__Oak_String(`Unfav`))],[()=>(__Oak_Empty),()=>(__Oak_String(`Fav`))]])]),h(Symbol.for('button'),[__Oak_String(`floating`),__Oak_String(`accent`),__Oak_String(`ai-generate-button`)],{},{click:updateCompletions},[__Oak_String(`Generate`)])])]),h(Symbol.for('div'),[__Oak_String(`completions-container`)],(__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(State);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[fetching__oak_qm])||null:(__oak_acc_trgt.fetching__oak_qm!==undefined?__oak_acc_trgt.fetching__oak_qm:null)})(),[[()=>(true),()=>([h(Symbol.for('div'),[__Oak_String(`completions-fetching`)],[h(Symbol.for('div'),[__Oak_String(`loading`)],[])])])],[()=>(false),()=>(map((()=>{let __oak_acc_trgt=__as_oak_string(currentDoc());return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[completions])||null:(__oak_acc_trgt.completions!==undefined?__oak_acc_trgt.completions:null)})(),function _(completion=null){return (()=>{ let generated;let prompt;([prompt,generated=null]=completion);return h(Symbol.for('div'),[__Oak_String(`floating`),__Oak_String(`completion`)],{},{click:function _(){return ((()=>{let __oak_assgn_trgt=__as_oak_string(currentDoc());__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(prompt,__as_oak_string(prompt+generated)):((__oak_assgn_trgt.prompt)=__as_oak_string(prompt+generated));return __oak_assgn_trgt})(),persistAndRender(),focusPromptInput())}},[h(Symbol.for('span'),[__Oak_String(`completion-prompt`)],[prompt]),h(Symbol.for('span'),[__Oak_String(`completion-generated`)],[generated])]) })()}))],[()=>(__Oak_Empty),()=>([h(Symbol.for('div'),[__Oak_String(`completions-error`)],[__Oak_String(`error`),(()=>{let __oak_acc_trgt=__as_oak_string(State);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[fetching__oak_qm])||null:(__oak_acc_trgt.fetching__oak_qm!==undefined?__oak_acc_trgt.fetching__oak_qm:null)})()])])]])))])])))};render();bind(window,Symbol.for('addEventListener'))(__Oak_String(`beforeunload`),function _(){return ((()=>{let __oak_acc_trgt=__as_oak_string(storage);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[persistImmediately])||null:(__oak_acc_trgt.persistImmediately!==undefined?__oak_acc_trgt.persistImmediately:null)})()(StateStorageKey,State))});(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(DefaultN,DefaultN):((__oak_assgn_trgt.DefaultN)=DefaultN);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(DefaultTokens,DefaultTokens):((__oak_assgn_trgt.DefaultTokens)=DefaultTokens);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(Renderer,Renderer):((__oak_assgn_trgt.Renderer)=Renderer);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(State,State):((__oak_assgn_trgt.State)=State);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(StateStorageKey,StateStorageKey):((__oak_assgn_trgt.StateStorageKey)=StateStorageKey);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(append,append):((__oak_assgn_trgt.append)=append);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(cloneDoc,cloneDoc):((__oak_assgn_trgt.cloneDoc)=cloneDoc);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(currentDoc,currentDoc):((__oak_assgn_trgt.currentDoc)=currentDoc);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(datetime,datetime):((__oak_assgn_trgt.datetime)=datetime);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(__oak_js_default,__oak_js_default):((__oak_assgn_trgt.__oak_js_default)=__oak_js_default);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(endsWith__oak_qm,endsWith__oak_qm):((__oak_assgn_trgt.endsWith__oak_qm)=endsWith__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(fetchCompletion,fetchCompletion):((__oak_assgn_trgt.fetchCompletion)=fetchCompletion);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(filter,filter):((__oak_assgn_trgt.filter)=filter);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(fmt,fmt):((__oak_assgn_trgt.fmt)=fmt);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(focusPromptInput,focusPromptInput):((__oak_assgn_trgt.focusPromptInput)=focusPromptInput);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(h,h):((__oak_assgn_trgt.h)=h);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(insertDoc,insertDoc):((__oak_assgn_trgt.insertDoc)=insertDoc);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(json,json):((__oak_assgn_trgt.json)=json);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(map,map):((__oak_assgn_trgt.map)=map);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(merge,merge):((__oak_assgn_trgt.merge)=merge);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(padStart,padStart):((__oak_assgn_trgt.padStart)=padStart);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(persistAndRender,persistAndRender):((__oak_assgn_trgt.persistAndRender)=persistAndRender);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(println,println):((__oak_assgn_trgt.println)=println);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(r,r):((__oak_assgn_trgt.r)=r);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(render,render):((__oak_assgn_trgt.render)=render);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(slice,slice):((__oak_assgn_trgt.slice)=slice);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(storage,storage):((__oak_assgn_trgt.storage)=storage);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(trim,trim):((__oak_assgn_trgt.trim)=trim);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(truncate,truncate):((__oak_assgn_trgt.truncate)=truncate);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(updateCompletions,updateCompletions):((__oak_assgn_trgt.updateCompletions)=updateCompletions);return __oak_assgn_trgt})();return __module })()}),__oak_modularize(__Oak_String(`datetime`),function _(){return (()=>{ let DaysBeforeMonth;let DaysFrom1To1970;let DaysPer100Years;let DaysPer400Years;let DaysPer4Years;let LeapDay;let SecondsPerDay;let ZeroYear;let __module;let _describeClock;let _describeDate;let _parseTZOffset;let __oak_js_default;let describe;let endsWith__oak_qm;let fmtFormat;let format;let leap__oak_qm;let map;let merge;let padEnd;let padStart;let parse;let slice;let split;let strContains__oak_qm;let strIndexOf;let timestamp;(__module={});({__oak_js_default:__oak_js_default=null,slice:slice=null,map:map=null,merge:merge=null}=__oak_module_import(__Oak_String(`std`)));({endsWith__oak_qm:endsWith__oak_qm=null,contains__oak_qm:strContains__oak_qm=null,indexOf:strIndexOf=null,padStart:padStart=null,padEnd:padEnd=null,split:split=null}=__oak_module_import(__Oak_String(`str`)));({format:fmtFormat=null}=__oak_module_import(__Oak_String(`fmt`)));(LeapDay=__as_oak_string(31+28));(SecondsPerDay=86400);(DaysPer4Years=__as_oak_string((365*4)+1));(DaysPer100Years=((25*DaysPer4Years)-1));(DaysPer400Years=__as_oak_string((DaysPer100Years*4)+1));(ZeroYear=1);(DaysFrom1To1970=(((DaysPer400Years*5)-(365*31))-8));(DaysBeforeMonth=[__Oak_Empty,0,31,__as_oak_string(31+28),__as_oak_string(__as_oak_string(31+28)+31),__as_oak_string(__as_oak_string(__as_oak_string(31+28)+31)+30),__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(31+28)+31)+30)+31),__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(31+28)+31)+30)+31)+30),__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(31+28)+31)+30)+31)+30)+31),__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(31+28)+31)+30)+31)+30)+31)+31),__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(31+28)+31)+30)+31)+30)+31)+31)+30),__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(31+28)+31)+30)+31)+30)+31)+31)+30)+31),__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(31+28)+31)+30)+31)+30)+31)+31)+30)+31)+30),__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(31+28)+31)+30)+31)+30)+31)+31)+30)+31)+30)+31)]);leap__oak_qm=function leap__oak_qm(year=null){return __oak_and(__oak_eq((year%4),0),(__oak_or(!__oak_eq((year%100),0),__oak_eq((year%400),0))))};_describeDate=function _describeDate(t=null){return (()=>{ let d;let day;let leapYear__oak_qm;let month;let n;let n100;let n4;let n400;let year;(d=__as_oak_string(int((((t-(t%SecondsPerDay)))/SecondsPerDay))+DaysFrom1To1970));__oak_if(true,[[()=>(__oak_and((t<0),!__oak_eq((t%86400),0))),()=>((d=(d-1)))]]);(n400=int((d/DaysPer400Years)));(d=(d-(DaysPer400Years*n400)));(n100=int((d/DaysPer100Years)));(n100=(n100-int((n100/4))));(d=(d-(DaysPer100Years*n100)));(n4=int((d/DaysPer4Years)));(d=(d-(DaysPer4Years*n4)));(n=int((d/365)));(n=(n-int((n/4))));(d=(d-(365*n)));(year=__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string(ZeroYear+(400*n400))+(100*n100))+(4*n4))+n));(month=0);(day=d);(leapYear__oak_qm=leap__oak_qm(year));__oak_if(true,[[()=>(__oak_and(leapYear__oak_qm,__oak_eq(day,LeapDay))),()=>(((month=2),(day=29)))],[()=>(__Oak_Empty),()=>((()=>{ let subMonth;__oak_if(true,[[()=>(__oak_and(leapYear__oak_qm,(day>LeapDay))),()=>((day=(day-1)))]]);subMonth=function subMonth(m=null){return (()=>{ let __oak_trampolined_subMonth;(__oak_trampolined_subMonth=function _(m=null){return __oak_if((day<(()=>{let __oak_acc_trgt=__as_oak_string(DaysBeforeMonth);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(__as_oak_string(m+1))])||null:(__oak_acc_trgt[(__as_oak_string(m+1))]!==undefined?__oak_acc_trgt[(__as_oak_string(m+1))]:null)})()),[[()=>(true),()=>(m)],[()=>(__Oak_Empty),()=>(__oak_trampoline(__oak_trampolined_subMonth,__as_oak_string(m+1)))]])});return __oak_resolve_trampoline(__oak_trampolined_subMonth,m) })()};(month=subMonth(1));return (day=__as_oak_string((day-(()=>{let __oak_acc_trgt=__as_oak_string(DaysBeforeMonth);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(month)])||null:(__oak_acc_trgt[(month)]!==undefined?__oak_acc_trgt[(month)]:null)})())+1)) })())]]);return {year:year,month:month,day:day} })()};_describeClock=function _describeClock(t=null){return (()=>{ let hour;let minute;let rem;(rem=(t%SecondsPerDay));__oak_if(true,[[()=>((rem<0)),()=>((rem=__as_oak_string(rem+SecondsPerDay)))]]);(hour=int((rem/3600)));(rem=(rem%3600));(minute=int((rem/60)));return {hour:hour,minute:minute,second:(rem%60)} })()};describe=function describe(t=null){return merge(_describeDate(t),_describeClock(t))};timestamp=function timestamp(desc=null){return (()=>{ let day;let daysFrom1;let daysFrom1970;let daysYearToDate;let hour;let leapYear__oak_qm;let minute;let month;let n100;let n4;let n400;let second;let year;({year:year=null,month:month=null,day:day=null,hour:hour=null,minute:minute=null,second:second=null}=desc);(leapYear__oak_qm=leap__oak_qm(year));(year=(year-ZeroYear));(n400=int((year/400)));(year=(year%400));(n100=int((year/100)));(year=(year%100));(n4=int((year/4)));(year=(year%4));(daysYearToDate=__oak_if(leapYear__oak_qm,[[()=>(true),()=>(__oak_if(true,[[()=>(__oak_eq(month,1)),()=>((__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(DaysBeforeMonth);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(month)])||null:(__oak_acc_trgt[(month)]!==undefined?__oak_acc_trgt[(month)]:null)})()+day)-1))],[()=>(__oak_and(__oak_eq(month,2),(day<29))),()=>((__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(DaysBeforeMonth);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(month)])||null:(__oak_acc_trgt[(month)]!==undefined?__oak_acc_trgt[(month)]:null)})()+day)-1))],[()=>(__oak_and(__oak_eq(month,2),__oak_eq(day,29))),()=>(59)],[()=>(__Oak_Empty),()=>(__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(DaysBeforeMonth);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(month)])||null:(__oak_acc_trgt[(month)]!==undefined?__oak_acc_trgt[(month)]:null)})()+day))]]))],[()=>(__Oak_Empty),()=>((__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(DaysBeforeMonth);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(month)])||null:(__oak_acc_trgt[(month)]!==undefined?__oak_acc_trgt[(month)]:null)})()+day)-1))]]));(daysFrom1=__as_oak_string(__as_oak_string(__as_oak_string(__as_oak_string((DaysPer400Years*n400)+(DaysPer100Years*n100))+(DaysPer4Years*n4))+(365*year))+daysYearToDate));(daysFrom1970=(daysFrom1-DaysFrom1To1970));return __as_oak_string(__as_oak_string(__as_oak_string((daysFrom1970*SecondsPerDay)+(3600*hour))+(60*minute))+second) })()};format=function format(t=null,tzOffset=null){return (()=>{ let day;let hour;let minute;let month;let second;let year;(tzOffset=__oak_js_default(tzOffset,0));({year:year=null,month:month=null,day:day=null,hour:hour=null,minute:minute=null,second:second=null}=describe(__as_oak_string(t+(tzOffset*60))));return fmtFormat(__Oak_String(`{{0}}-{{1}}-{{2}}T{{3}}:{{4}}:{{5}}{{6}}`),__oak_if(true,[[()=>((year>9999)),()=>(padStart(string(year),6,__Oak_String(`0`)))],[()=>((year<0)),()=>(__oak_push(__Oak_String(`-`),padStart(string(-year),6,__Oak_String(`0`))))],[()=>(__Oak_Empty),()=>(padStart(string(year),4,__Oak_String(`0`)))]]),padStart(string(month),2,__Oak_String(`0`)),padStart(string(day),2,__Oak_String(`0`)),padStart(string(hour),2,__Oak_String(`0`)),padStart(string(minute),2,__Oak_String(`0`)),padStart(string(second),2,__Oak_String(`0`)),__oak_if(true,[[()=>(__oak_eq(tzOffset,0)),()=>(__Oak_String(`Z`))],[()=>((tzOffset>0)),()=>(__oak_push(__Oak_String(`+`),fmtFormat(__Oak_String(`{{0}}:{{1}}`),padStart(string(int((tzOffset/60))),2,__Oak_String(`0`)),padStart(string((tzOffset%60)),2,__Oak_String(`0`)))))],[()=>(__Oak_Empty),()=>(__oak_push(__Oak_String(`-`),fmtFormat(__Oak_String(`{{0}}:{{1}}`),padStart(string(int((-tzOffset/60))),2,__Oak_String(`0`)),padStart(string((-tzOffset%60)),2,__Oak_String(`0`)))))]])) })()};_parseTZOffset=function _parseTZOffset(offsetString=null){let hh;let mm;return __oak_if(([hh,mm=null]=map(split(offsetString,__Oak_String(`:`)),int)),[[()=>([]),()=>(null)],[()=>([__Oak_Empty]),()=>(null)],[()=>([null,__Oak_Empty]),()=>(null)],[()=>([__Oak_Empty,null]),()=>(null)],[()=>(__Oak_Empty),()=>(__as_oak_string((hh*60)+mm))]])};parse=function parse(s=null){let clock;let date;let day;let hour;let minute;let month;let second;let year;return __oak_if(([date,clock=null]=split(s,__Oak_String(`T`))),[[()=>([]),()=>(null)],[()=>([__Oak_Empty]),()=>(null)],[()=>([null,__Oak_Empty]),()=>(null)],[()=>([__Oak_Empty,null]),()=>(null)],[()=>(__Oak_Empty),()=>(__oak_if(([year,month,day=null]=map(split(date,__Oak_String(`-`)),int)),[[()=>([]),()=>(null)],[()=>([__Oak_Empty]),()=>(null)],[()=>([__Oak_Empty,__Oak_Empty]),()=>(null)],[()=>([null,__Oak_Empty,__Oak_Empty]),()=>(null)],[()=>([__Oak_Empty,null,__Oak_Empty]),()=>(null)],[()=>([__Oak_Empty,__Oak_Empty,null]),()=>(null)],[()=>(__Oak_Empty),()=>(__oak_if(([hour,minute,second=null]=map(split(slice(clock,0,8),__Oak_String(`:`)),int)),[[()=>([]),()=>(null)],[()=>([__Oak_Empty]),()=>(null)],[()=>([__Oak_Empty,__Oak_Empty]),()=>(null)],[()=>([null,__Oak_Empty,__Oak_Empty]),()=>(null)],[()=>([__Oak_Empty,null,__Oak_Empty]),()=>(null)],[()=>([__Oak_Empty,__Oak_Empty,null]),()=>(null)],[()=>(__Oak_Empty),()=>((()=>{ let maybeMillis;let parsed;let tzOffset;([__oak_empty_assgn_trgt,maybeMillis=null]=map(map(split(clock,__Oak_String(`.`)),function _(s=null){return slice(s,0,3)}),int));(tzOffset=__oak_if(true,[[()=>(strContains__oak_qm(clock,__Oak_String(`+`))),()=>(_parseTZOffset(slice(clock,__as_oak_string(strIndexOf(clock,__Oak_String(`+`))+1))))],[()=>(strContains__oak_qm(clock,__Oak_String(`-`))),()=>(__oak_if((parsed=_parseTZOffset(slice(clock,__as_oak_string(strIndexOf(clock,__Oak_String(`-`))+1)))),[[()=>(null),()=>(null)],[()=>(__Oak_Empty),()=>(-parsed)]]))],[()=>(__Oak_Empty),()=>(0)]]));return __oak_if(tzOffset,[[()=>(null),()=>(null)],[()=>(__Oak_Empty),()=>({year:year,month:month,day:day,hour:hour,minute:minute,second:second,millis:__oak_js_default(maybeMillis,0),tzOffset:tzOffset})]]) })())]]))]]))]])};(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(DaysBeforeMonth,DaysBeforeMonth):((__oak_assgn_trgt.DaysBeforeMonth)=DaysBeforeMonth);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(DaysFrom1To1970,DaysFrom1To1970):((__oak_assgn_trgt.DaysFrom1To1970)=DaysFrom1To1970);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(DaysPer100Years,DaysPer100Years):((__oak_assgn_trgt.DaysPer100Years)=DaysPer100Years);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(DaysPer400Years,DaysPer400Years):((__oak_assgn_trgt.DaysPer400Years)=DaysPer400Years);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(DaysPer4Years,DaysPer4Years):((__oak_assgn_trgt.DaysPer4Years)=DaysPer4Years);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(LeapDay,LeapDay):((__oak_assgn_trgt.LeapDay)=LeapDay);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(SecondsPerDay,SecondsPerDay):((__oak_assgn_trgt.SecondsPerDay)=SecondsPerDay);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(ZeroYear,ZeroYear):((__oak_assgn_trgt.ZeroYear)=ZeroYear);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(_describeClock,_describeClock):((__oak_assgn_trgt._describeClock)=_describeClock);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(_describeDate,_describeDate):((__oak_assgn_trgt._describeDate)=_describeDate);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(_parseTZOffset,_parseTZOffset):((__oak_assgn_trgt._parseTZOffset)=_parseTZOffset);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(__oak_js_default,__oak_js_default):((__oak_assgn_trgt.__oak_js_default)=__oak_js_default);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(describe,describe):((__oak_assgn_trgt.describe)=describe);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(endsWith__oak_qm,endsWith__oak_qm):((__oak_assgn_trgt.endsWith__oak_qm)=endsWith__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(fmtFormat,fmtFormat):((__oak_assgn_trgt.fmtFormat)=fmtFormat);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(format,format):((__oak_assgn_trgt.format)=format);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(leap__oak_qm,leap__oak_qm):((__oak_assgn_trgt.leap__oak_qm)=leap__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(map,map):((__oak_assgn_trgt.map)=map);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(merge,merge):((__oak_assgn_trgt.merge)=merge);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(padEnd,padEnd):((__oak_assgn_trgt.padEnd)=padEnd);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(padStart,padStart):((__oak_assgn_trgt.padStart)=padStart);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(parse,parse):((__oak_assgn_trgt.parse)=parse);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(slice,slice):((__oak_assgn_trgt.slice)=slice);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(split,split):((__oak_assgn_trgt.split)=split);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(strContains__oak_qm,strContains__oak_qm):((__oak_assgn_trgt.strContains__oak_qm)=strContains__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(strIndexOf,strIndexOf):((__oak_assgn_trgt.strIndexOf)=strIndexOf);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(timestamp,timestamp):((__oak_assgn_trgt.timestamp)=timestamp);return __oak_assgn_trgt})();return __module })()}),__oak_modularize(__Oak_String(`fmt`),function _(){return (()=>{ let __module;let format;let printf;let println;(__module={});({println:println=null}=__oak_module_import(__Oak_String(`std`)));format=function format(raw=null,...values){return (()=>{ let buf;let key;let sub;let which;(which=0);(key=__Oak_String(``));(buf=__Oak_String(``));sub=function sub(idx=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(idx=null){return __oak_if((idx<len(raw)),[[()=>(true),()=>((()=>{ let c;(c=(()=>{let __oak_acc_trgt=__as_oak_string(raw);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(idx)])||null:(__oak_acc_trgt[(idx)]!==undefined?__oak_acc_trgt[(idx)]:null)})());__oak_if(which,[[()=>(0),()=>(__oak_if(c,[[()=>(__Oak_String(`{`)),()=>((which=1))],[()=>(__Oak_Empty),()=>(__oak_push(buf,c))]]))],[()=>(1),()=>(__oak_if(c,[[()=>(__Oak_String(`{`)),()=>((which=2))],[()=>(__Oak_Empty),()=>((__oak_push(__oak_push(buf,__Oak_String(`{`)),c),(which=0)))]]))],[()=>(2),()=>(__oak_if(c,[[()=>(__Oak_String(`}`)),()=>((__oak_push(buf,string((()=>{let __oak_acc_trgt=__as_oak_string(values);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(int(key))])||null:(__oak_acc_trgt[(int(key))]!==undefined?__oak_acc_trgt[(int(key))]:null)})())),(key=__Oak_String(``)),(which=3)))],[()=>(__Oak_String(` `)),()=>(null)],[()=>(__Oak_Empty),()=>((key=__as_oak_string(key+c)))]]))],[()=>(3),()=>(__oak_if(c,[[()=>(__Oak_String(`}`)),()=>((which=0))],[()=>(__Oak_Empty),()=>(null)]]))]]);return __oak_trampoline(__oak_trampolined_sub,__as_oak_string(idx+1)) })())],[()=>(__Oak_Empty),()=>(buf)]])});return __oak_resolve_trampoline(__oak_trampolined_sub,idx) })()};return sub(0) })()};printf=function printf(raw=null,...values){return println(format(raw,...values))};(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(format,format):((__oak_assgn_trgt.format)=format);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(printf,printf):((__oak_assgn_trgt.printf)=printf);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(println,println):((__oak_assgn_trgt.println)=println);return __oak_assgn_trgt})();return __module })()}),__oak_modularize(__Oak_String(`json`),function _(){return (()=>{ let Reader;let __module;let _parseReader;let __oak_js_default;let digit__oak_qm;let esc;let escape;let join;let map;let parse;let parseFalse;let parseList;let parseNull;let parseNumber;let parseObject;let parseString;let parseTrue;let serialize;let slice;let space__oak_qm;(__module={});({__oak_js_default:__oak_js_default=null,slice:slice=null,map:map=null}=__oak_module_import(__Oak_String(`std`)));({space__oak_qm:space__oak_qm=null,digit__oak_qm:digit__oak_qm=null,join:join=null}=__oak_module_import(__Oak_String(`str`)));esc=function esc(c=null){return __oak_if(c,[[()=>(__Oak_String(`	`)),()=>(__Oak_String(`\\t`))],[()=>(__Oak_String(`
`)),()=>(__Oak_String(`\\n`))],[()=>(__Oak_String(``)),()=>(__Oak_String(`\\r`))],[()=>(__Oak_String(``)),()=>(__Oak_String(`\\f`))],[()=>(__Oak_String(`"`)),()=>(__Oak_String(`\\"`))],[()=>(__Oak_String(`\\`)),()=>(__Oak_String(`\\\\`))],[()=>(__Oak_Empty),()=>(c)]])};escape=function escape(s=null){return (()=>{ let max;let sub;(max=len(s));sub=function sub(i=null,acc=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(i=null,acc=null){return __oak_if(i,[[()=>(max),()=>(acc)],[()=>(__Oak_Empty),()=>(__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1),__oak_push(acc,esc((()=>{let __oak_acc_trgt=__as_oak_string(s);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})()))))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,i,acc) })()};return sub(0,__Oak_String(``)) })()};serialize=function serialize(c=null){return __oak_if(type(c),[[()=>(Symbol.for('null')),()=>(__Oak_String(`null`))],[()=>(Symbol.for('empty')),()=>(__Oak_String(`null`))],[()=>(Symbol.for('function')),()=>(__Oak_String(`null`))],[()=>(Symbol.for('string')),()=>(__oak_push(__oak_push(__Oak_String(`"`),escape(c)),__Oak_String(`"`)))],[()=>(Symbol.for('atom')),()=>(__oak_push(__oak_push(__Oak_String(`"`),string(c)),__Oak_String(`"`)))],[()=>(Symbol.for('int')),()=>(string(c))],[()=>(Symbol.for('float')),()=>(string(c))],[()=>(Symbol.for('bool')),()=>(string(c))],[()=>(Symbol.for('list')),()=>(__oak_push(__oak_push(__Oak_String(`[`),join(map(c,serialize),__Oak_String(`,`))),__Oak_String(`]`)))],[()=>(Symbol.for('object')),()=>(__oak_push(__oak_push(__Oak_String(`{`),join(map(keys(c),function _(k=null){return __oak_push(__oak_push(__oak_push(__Oak_String(`"`),escape(k)),__Oak_String(`":`)),serialize((()=>{let __oak_acc_trgt=__as_oak_string(c);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(k)])||null:(__oak_acc_trgt[(k)]!==undefined?__oak_acc_trgt[(k)]:null)})()))}),__Oak_String(`,`))),__Oak_String(`}`)))]])};Reader=function Reader(s=null){return (()=>{ let err__oak_qm;let forward;let index;let next;let nextWord;let peek;(index=0);(err__oak_qm=false);next=function next(){return ((index=__as_oak_string(index+1)),__oak_js_default((()=>{let __oak_acc_trgt=__as_oak_string(s);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[((index-1))])||null:(__oak_acc_trgt[((index-1))]!==undefined?__oak_acc_trgt[((index-1))]:null)})(),__Oak_String(``)))};peek=function peek(){return __oak_js_default((()=>{let __oak_acc_trgt=__as_oak_string(s);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(index)])||null:(__oak_acc_trgt[(index)]!==undefined?__oak_acc_trgt[(index)]:null)})(),__Oak_String(``))};nextWord=function nextWord(n=null){return __oak_if((__as_oak_string(index+n)>len(s)),[[()=>(true),()=>(((index=len(s)),null))],[()=>(__Oak_Empty),()=>((()=>{ let word;(word=slice(s,index,__as_oak_string(index+n)));(index=__as_oak_string(index+n));return word })())]])};forward=function forward(){return (()=>{ let sub;sub=function sub(){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(){return __oak_if(space__oak_qm(peek()),[[()=>(true),()=>(((index=__as_oak_string(index+1)),__oak_trampoline(__oak_trampolined_sub)))]])});return __oak_resolve_trampoline(__oak_trampolined_sub) })()};return sub() })()};return {next:next,peek:peek,forward:forward,nextWord:nextWord,done__oak_qm:function _(){return (index>=len(s))},err__oak_exclam:function _(){return ((err__oak_qm=true),Symbol.for('error'))},err__oak_qm:function _(){return err__oak_qm}} })()};parseNull=function parseNull(r=null){return __oak_if((()=>{let __oak_acc_trgt=__as_oak_string(r);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[nextWord])||null:(__oak_acc_trgt.nextWord!==undefined?__oak_acc_trgt.nextWord:null)})()(4),[[()=>(__Oak_String(`null`)),()=>(null)],[()=>(__Oak_Empty),()=>((()=>{let __oak_acc_trgt=__as_oak_string(r);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[err__oak_exclam])||null:(__oak_acc_trgt.err__oak_exclam!==undefined?__oak_acc_trgt.err__oak_exclam:null)})()())]])};parseString=function parseString(r=null){return (()=>{ let next;let sub;(next=(()=>{let __oak_acc_trgt=__as_oak_string(r);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[next])||null:(__oak_acc_trgt.next!==undefined?__oak_acc_trgt.next:null)})());next();sub=function sub(acc=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(acc=null){let c;return __oak_if((c=next()),[[()=>(__Oak_String(``)),()=>((()=>{let __oak_acc_trgt=__as_oak_string(r);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[err__oak_exclam])||null:(__oak_acc_trgt.err__oak_exclam!==undefined?__oak_acc_trgt.err__oak_exclam:null)})()())],[()=>(__Oak_String(`\\`)),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,__oak_if((c=next()),[[()=>(__Oak_String(`t`)),()=>(__Oak_String(`	`))],[()=>(__Oak_String(`n`)),()=>(__Oak_String(`
`))],[()=>(__Oak_String(`r`)),()=>(__Oak_String(``))],[()=>(__Oak_String(`f`)),()=>(__Oak_String(``))],[()=>(__Oak_String(`"`)),()=>(__Oak_String(`"`))],[()=>(__Oak_Empty),()=>(c)]]))))],[()=>(__Oak_String(`"`)),()=>(acc)],[()=>(__Oak_Empty),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,c)))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,acc) })()};return sub(__Oak_String(``)) })()};parseNumber=function parseNumber(r=null){return (()=>{ let decimal__oak_qm;let negate__oak_qm;let next;let parsed;let peek;let result;let sub;(peek=(()=>{let __oak_acc_trgt=__as_oak_string(r);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[peek])||null:(__oak_acc_trgt.peek!==undefined?__oak_acc_trgt.peek:null)})());(next=(()=>{let __oak_acc_trgt=__as_oak_string(r);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[next])||null:(__oak_acc_trgt.next!==undefined?__oak_acc_trgt.next:null)})());(decimal__oak_qm=false);(negate__oak_qm=__oak_if(peek(),[[()=>(__Oak_String(`-`)),()=>((next(),true))],[()=>(__Oak_Empty),()=>(false)]]));sub=function sub(acc=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(acc=null){return __oak_if(peek(),[[()=>(__Oak_String(`.`)),()=>(__oak_if(decimal__oak_qm,[[()=>(true),()=>((()=>{let __oak_acc_trgt=__as_oak_string(r);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[err__oak_exclam])||null:(__oak_acc_trgt.err__oak_exclam!==undefined?__oak_acc_trgt.err__oak_exclam:null)})()())],[()=>(__Oak_Empty),()=>(((decimal__oak_qm=true),__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,next()))))]]))],[()=>(__Oak_String(`0`)),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,next())))],[()=>(__Oak_String(`1`)),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,next())))],[()=>(__Oak_String(`2`)),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,next())))],[()=>(__Oak_String(`3`)),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,next())))],[()=>(__Oak_String(`4`)),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,next())))],[()=>(__Oak_String(`5`)),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,next())))],[()=>(__Oak_String(`6`)),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,next())))],[()=>(__Oak_String(`7`)),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,next())))],[()=>(__Oak_String(`8`)),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,next())))],[()=>(__Oak_String(`9`)),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,next())))],[()=>(__Oak_Empty),()=>(acc)]])});return __oak_resolve_trampoline(__oak_trampolined_sub,acc) })()};(result=sub(__Oak_String(``)));return __oak_if((parsed=__oak_if(decimal__oak_qm,[[()=>(true),()=>(float(result))],[()=>(__Oak_Empty),()=>(int(result))]])),[[()=>(null),()=>(Symbol.for('error'))],[()=>(__Oak_Empty),()=>(__oak_if(negate__oak_qm,[[()=>(true),()=>(-parsed)],[()=>(__Oak_Empty),()=>(parsed)]]))]]) })()};parseTrue=function parseTrue(r=null){return __oak_if((()=>{let __oak_acc_trgt=__as_oak_string(r);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[nextWord])||null:(__oak_acc_trgt.nextWord!==undefined?__oak_acc_trgt.nextWord:null)})()(4),[[()=>(__Oak_String(`true`)),()=>(true)],[()=>(__Oak_Empty),()=>((()=>{let __oak_acc_trgt=__as_oak_string(r);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[err__oak_exclam])||null:(__oak_acc_trgt.err__oak_exclam!==undefined?__oak_acc_trgt.err__oak_exclam:null)})()())]])};parseFalse=function parseFalse(r=null){return __oak_if((()=>{let __oak_acc_trgt=__as_oak_string(r);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[nextWord])||null:(__oak_acc_trgt.nextWord!==undefined?__oak_acc_trgt.nextWord:null)})()(5),[[()=>(__Oak_String(`false`)),()=>(false)],[()=>(__Oak_Empty),()=>((()=>{let __oak_acc_trgt=__as_oak_string(r);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[err__oak_exclam])||null:(__oak_acc_trgt.err__oak_exclam!==undefined?__oak_acc_trgt.err__oak_exclam:null)})()())]])};parseList=function parseList(r=null){return (()=>{ let err__oak_qm;let forward;let next;let peek;let sub;(err__oak_qm=(()=>{let __oak_acc_trgt=__as_oak_string(r);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[err__oak_qm])||null:(__oak_acc_trgt.err__oak_qm!==undefined?__oak_acc_trgt.err__oak_qm:null)})());(peek=(()=>{let __oak_acc_trgt=__as_oak_string(r);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[peek])||null:(__oak_acc_trgt.peek!==undefined?__oak_acc_trgt.peek:null)})());(next=(()=>{let __oak_acc_trgt=__as_oak_string(r);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[next])||null:(__oak_acc_trgt.next!==undefined?__oak_acc_trgt.next:null)})());(forward=(()=>{let __oak_acc_trgt=__as_oak_string(r);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[forward])||null:(__oak_acc_trgt.forward!==undefined?__oak_acc_trgt.forward:null)})());next();forward();sub=function sub(acc=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(acc=null){return __oak_if(err__oak_qm(),[[()=>(true),()=>(Symbol.for('error'))],[()=>(__Oak_Empty),()=>(__oak_if(peek(),[[()=>(__Oak_String(``)),()=>((()=>{let __oak_acc_trgt=__as_oak_string(r);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[err__oak_exclam])||null:(__oak_acc_trgt.err__oak_exclam!==undefined?__oak_acc_trgt.err__oak_exclam:null)})()())],[()=>(__Oak_String(`]`)),()=>((next(),acc))],[()=>(__Oak_Empty),()=>((__oak_push(acc,_parseReader(r)),forward(),__oak_if(peek(),[[()=>(__Oak_String(`,`)),()=>(next())]]),forward(),__oak_trampoline(__oak_trampolined_sub,acc)))]]))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,acc) })()};return sub([]) })()};parseObject=function parseObject(r=null){return (()=>{ let err__oak_qm;let forward;let next;let peek;let sub;(err__oak_qm=(()=>{let __oak_acc_trgt=__as_oak_string(r);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[err__oak_qm])||null:(__oak_acc_trgt.err__oak_qm!==undefined?__oak_acc_trgt.err__oak_qm:null)})());(peek=(()=>{let __oak_acc_trgt=__as_oak_string(r);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[peek])||null:(__oak_acc_trgt.peek!==undefined?__oak_acc_trgt.peek:null)})());(next=(()=>{let __oak_acc_trgt=__as_oak_string(r);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[next])||null:(__oak_acc_trgt.next!==undefined?__oak_acc_trgt.next:null)})());(forward=(()=>{let __oak_acc_trgt=__as_oak_string(r);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[forward])||null:(__oak_acc_trgt.forward!==undefined?__oak_acc_trgt.forward:null)})());next();forward();sub=function sub(acc=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(acc=null){return __oak_if(err__oak_qm(),[[()=>(true),()=>(Symbol.for('error'))],[()=>(__Oak_Empty),()=>(__oak_if(peek(),[[()=>(__Oak_String(``)),()=>((()=>{let __oak_acc_trgt=__as_oak_string(r);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[err__oak_exclam])||null:(__oak_acc_trgt.err__oak_exclam!==undefined?__oak_acc_trgt.err__oak_exclam:null)})()())],[()=>(__Oak_String(`}`)),()=>((next(),acc))],[()=>(__Oak_Empty),()=>((()=>{ let key;(key=parseString(r));return __oak_if(err__oak_qm(),[[()=>(false),()=>((()=>{ let val;forward();__oak_if(peek(),[[()=>(__Oak_String(`:`)),()=>(next())]]);(val=_parseReader(r));return __oak_if(err__oak_qm(),[[()=>(false),()=>((forward(),__oak_if(peek(),[[()=>(__Oak_String(`,`)),()=>(next())]]),forward(),__oak_trampoline(__oak_trampolined_sub,(()=>{let __oak_assgn_trgt=__as_oak_string(acc);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign((key),val):((__oak_assgn_trgt[(key)])=val);return __oak_assgn_trgt})())))]]) })())]]) })())]]))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,acc) })()};return sub({}) })()};_parseReader=function _parseReader(r=null){return (()=>{ let result;(()=>{let __oak_acc_trgt=__as_oak_string(r);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[forward])||null:(__oak_acc_trgt.forward!==undefined?__oak_acc_trgt.forward:null)})()();(result=__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(r);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[peek])||null:(__oak_acc_trgt.peek!==undefined?__oak_acc_trgt.peek:null)})()(),[[()=>(__Oak_String(`n`)),()=>(parseNull(r))],[()=>(__Oak_String(`"`)),()=>(parseString(r))],[()=>(__Oak_String(`t`)),()=>(parseTrue(r))],[()=>(__Oak_String(`f`)),()=>(parseFalse(r))],[()=>(__Oak_String(`[`)),()=>(parseList(r))],[()=>(__Oak_String(`{`)),()=>(parseObject(r))],[()=>(__Oak_Empty),()=>(parseNumber(r))]]));return __oak_if((()=>{let __oak_acc_trgt=__as_oak_string(r);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[err__oak_qm])||null:(__oak_acc_trgt.err__oak_qm!==undefined?__oak_acc_trgt.err__oak_qm:null)})()(),[[()=>(true),()=>(Symbol.for('error'))],[()=>(__Oak_Empty),()=>(result)]]) })()};parse=function parse(s=null){return _parseReader(Reader(s))};(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(Reader,Reader):((__oak_assgn_trgt.Reader)=Reader);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(_parseReader,_parseReader):((__oak_assgn_trgt._parseReader)=_parseReader);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(__oak_js_default,__oak_js_default):((__oak_assgn_trgt.__oak_js_default)=__oak_js_default);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(digit__oak_qm,digit__oak_qm):((__oak_assgn_trgt.digit__oak_qm)=digit__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(esc,esc):((__oak_assgn_trgt.esc)=esc);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(escape,escape):((__oak_assgn_trgt.escape)=escape);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(join,join):((__oak_assgn_trgt.join)=join);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(map,map):((__oak_assgn_trgt.map)=map);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(parse,parse):((__oak_assgn_trgt.parse)=parse);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(parseFalse,parseFalse):((__oak_assgn_trgt.parseFalse)=parseFalse);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(parseList,parseList):((__oak_assgn_trgt.parseList)=parseList);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(parseNull,parseNull):((__oak_assgn_trgt.parseNull)=parseNull);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(parseNumber,parseNumber):((__oak_assgn_trgt.parseNumber)=parseNumber);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(parseObject,parseObject):((__oak_assgn_trgt.parseObject)=parseObject);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(parseString,parseString):((__oak_assgn_trgt.parseString)=parseString);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(parseTrue,parseTrue):((__oak_assgn_trgt.parseTrue)=parseTrue);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(serialize,serialize):((__oak_assgn_trgt.serialize)=serialize);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(slice,slice):((__oak_assgn_trgt.slice)=slice);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(space__oak_qm,space__oak_qm):((__oak_assgn_trgt.space__oak_qm)=space__oak_qm);return __oak_assgn_trgt})();return __module })()}),__oak_modularize(__Oak_String(`std`),function _(){return (()=>{ let __module;let _baseIterator;let _hToN;let _nToH;let append;let clamp;let clone;let contains__oak_qm;let debounce;let __oak_js_default;let each;let entries;let every;let filter;let find;let flatten;let fromHex;let identity;let indexOf;let join;let loop;let map;let merge;let once;let partition;let println;let range;let reduce;let reverse;let slice;let some;let toHex;let uniq;let values;let zip;(__module={});identity=function identity(x=null){return x};_baseIterator=function _baseIterator(v=null){return __oak_if(type(v),[[()=>(Symbol.for('string')),()=>(__Oak_String(``))],[()=>(Symbol.for('list')),()=>([])],[()=>(Symbol.for('object')),()=>({})]])};__oak_js_default=function __oak_js_default(x=null,base=null){return __oak_if(x,[[()=>(null),()=>(base)],[()=>(__Oak_Empty),()=>(x)]])};(_nToH=__Oak_String(`0123456789abcdef`));toHex=function toHex(n=null){return (()=>{ let sub;sub=function sub(p=null,acc=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(p=null,acc=null){return __oak_if((p<16),[[()=>(true),()=>(__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(_nToH);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(p)])||null:(__oak_acc_trgt[(p)]!==undefined?__oak_acc_trgt[(p)]:null)})()+acc))],[()=>(__Oak_Empty),()=>(__oak_trampoline(__oak_trampolined_sub,int((p/16)),__as_oak_string((()=>{let __oak_acc_trgt=__as_oak_string(_nToH);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[((p%16))])||null:(__oak_acc_trgt[((p%16))]!==undefined?__oak_acc_trgt[((p%16))]:null)})()+acc)))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,p,acc) })()};return sub(int(n),__Oak_String(``)) })()};(_hToN={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15});fromHex=function fromHex(s=null){return (()=>{ let sub;sub=function sub(i=null,acc=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(i=null,acc=null){let next;return __oak_if(true,[[()=>(__oak_eq(i,len(s))),()=>(acc)],[()=>(!__oak_eq(null,(next=(()=>{let __oak_acc_trgt=__as_oak_string(_hToN);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[((()=>{let __oak_acc_trgt=__as_oak_string(s);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})())])||null:(__oak_acc_trgt[((()=>{let __oak_acc_trgt=__as_oak_string(s);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})())]!==undefined?__oak_acc_trgt[((()=>{let __oak_acc_trgt=__as_oak_string(s);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})())]:null)})()))),()=>(__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1),__as_oak_string((acc*16)+next)))],[()=>(__Oak_Empty),()=>(null)]])});return __oak_resolve_trampoline(__oak_trampolined_sub,i,acc) })()};return sub(0,0) })()};clamp=function clamp(min=null,max=null,n=null,m=null){return ((n=__oak_if((n<min),[[()=>(true),()=>(min)],[()=>(__Oak_Empty),()=>(n)]])),(m=__oak_if((m<min),[[()=>(true),()=>(min)],[()=>(__Oak_Empty),()=>(m)]])),(m=__oak_if((m>max),[[()=>(true),()=>(max)],[()=>(__Oak_Empty),()=>(m)]])),(n=__oak_if((n>m),[[()=>(true),()=>(m)],[()=>(__Oak_Empty),()=>(n)]])),[n,m])};slice=function slice(xs=null,min=null,max=null){return (()=>{ let sub;(min=__oak_js_default(min,0));(max=__oak_js_default(max,len(xs)));([min,max=null]=clamp(0,len(xs),min,max));sub=function sub(acc=null,i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(acc=null,i=null){return __oak_if(i,[[()=>(max),()=>(acc)],[()=>(__Oak_Empty),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,(()=>{let __oak_acc_trgt=__as_oak_string(xs);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})()),__as_oak_string(i+1)))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,acc,i) })()};return sub(_baseIterator(xs),min) })()};clone=function clone(x=null){return __oak_if(type(x),[[()=>(Symbol.for('string')),()=>(__as_oak_string(__Oak_String(``)+x))],[()=>(Symbol.for('list')),()=>(slice(x))],[()=>(Symbol.for('object')),()=>(reduce(keys(x),{},function _(acc=null,key=null){return (()=>{let __oak_assgn_trgt=__as_oak_string(acc);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign((key),(()=>{let __oak_acc_trgt=__as_oak_string(x);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(key)])||null:(__oak_acc_trgt[(key)]!==undefined?__oak_acc_trgt[(key)]:null)})()):((__oak_assgn_trgt[(key)])=(()=>{let __oak_acc_trgt=__as_oak_string(x);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(key)])||null:(__oak_acc_trgt[(key)]!==undefined?__oak_acc_trgt[(key)]:null)})());return __oak_assgn_trgt})()}))],[()=>(__Oak_Empty),()=>(x)]])};append=function append(xs=null,ys=null){return (()=>{ let xlen;(xlen=len(xs));each(ys,function _(y=null,i=null){return (()=>{let __oak_assgn_trgt=__as_oak_string(xs);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign((__as_oak_string(xlen+i)),y):((__oak_assgn_trgt[(__as_oak_string(xlen+i))])=y);return __oak_assgn_trgt})()});return xs })()};join=function join(xs=null,ys=null){return append(clone(xs),ys)};range=function range(start=null,end=null,step=null){return ((step=__oak_js_default(step,1)),__oak_if(end,[[()=>(null),()=>(([start,end=null]=[0,start]))]]),__oak_if(__oak_eq(step,0),[[()=>(true),()=>([])],[()=>(__Oak_Empty),()=>((()=>{ let list;let sub;(list=[]);__oak_if((step>0),[[()=>(true),()=>(sub=function sub(n=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(n=null){return __oak_if((n<end),[[()=>(true),()=>((__oak_push(list,n),__oak_trampoline(__oak_trampolined_sub,__as_oak_string(n+step))))],[()=>(__Oak_Empty),()=>(list)]])});return __oak_resolve_trampoline(__oak_trampolined_sub,n) })()})],[()=>(__Oak_Empty),()=>(sub=function sub(n=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(n=null){return __oak_if((n>end),[[()=>(true),()=>((__oak_push(list,n),__oak_trampoline(__oak_trampolined_sub,__as_oak_string(n+step))))],[()=>(__Oak_Empty),()=>(list)]])});return __oak_resolve_trampoline(__oak_trampolined_sub,n) })()})]]);return sub(start) })())]]))};reverse=function reverse(xs=null){return (()=>{ let sub;sub=function sub(acc=null,i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(acc=null,i=null){return __oak_if((i<0),[[()=>(true),()=>(acc)],[()=>(__Oak_Empty),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,(()=>{let __oak_acc_trgt=__as_oak_string(xs);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})()),(i-1)))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,acc,i) })()};return sub(_baseIterator(xs),(len(xs)-1)) })()};map=function map(xs=null,f=null){return (()=>{ let sub;sub=function sub(acc=null,i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(acc=null,i=null){return __oak_if(i,[[()=>(len(xs)),()=>(acc)],[()=>(__Oak_Empty),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,f((()=>{let __oak_acc_trgt=__as_oak_string(xs);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})(),i)),__as_oak_string(i+1)))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,acc,i) })()};return sub(_baseIterator(xs),0) })()};each=function each(xs=null,f=null){return (()=>{ let sub;sub=function sub(i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(i=null){return __oak_if(i,[[()=>(len(xs)),()=>(null)],[()=>(__Oak_Empty),()=>((f((()=>{let __oak_acc_trgt=__as_oak_string(xs);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})(),i),__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1))))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,i) })()};return sub(0) })()};filter=function filter(xs=null,f=null){return (()=>{ let sub;sub=function sub(acc=null,i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(acc=null,i=null){return __oak_if(i,[[()=>(len(xs)),()=>(acc)],[()=>(__Oak_Empty),()=>((()=>{ let x;__oak_if(f((x=(()=>{let __oak_acc_trgt=__as_oak_string(xs);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})()),i),[[()=>(true),()=>(__oak_push(acc,x))]]);return __oak_trampoline(__oak_trampolined_sub,acc,__as_oak_string(i+1)) })())]])});return __oak_resolve_trampoline(__oak_trampolined_sub,acc,i) })()};return sub(_baseIterator(xs),0) })()};reduce=function reduce(xs=null,seed=null,f=null){return (()=>{ let sub;sub=function sub(acc=null,i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(acc=null,i=null){return __oak_if(i,[[()=>(len(xs)),()=>(acc)],[()=>(__Oak_Empty),()=>(__oak_trampoline(__oak_trampolined_sub,f(acc,(()=>{let __oak_acc_trgt=__as_oak_string(xs);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})(),i),__as_oak_string(i+1)))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,acc,i) })()};return sub(seed,0) })()};flatten=function flatten(xs=null){return reduce(xs,[],append)};some=function some(xs=null,pred=null){return ((pred=__oak_js_default(pred,identity)),reduce(xs,false,function _(acc=null,x=null){return __oak_or(acc,pred(x))}))};every=function every(xs=null,pred=null){return ((pred=__oak_js_default(pred,identity)),reduce(xs,true,function _(acc=null,x=null){return __oak_and(acc,pred(x))}))};zip=function zip(xs=null,ys=null,zipper=null){return (()=>{ let max;let sub;(zipper=__oak_js_default(zipper,function _(x=null,y=null){return [x,y]}));(max=__oak_if((len(xs)<len(ys)),[[()=>(true),()=>(len(xs))],[()=>(__Oak_Empty),()=>(len(ys))]]));sub=function sub(acc=null,i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(acc=null,i=null){return __oak_if(i,[[()=>(max),()=>(acc)],[()=>(__Oak_Empty),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,zipper((()=>{let __oak_acc_trgt=__as_oak_string(xs);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})(),(()=>{let __oak_acc_trgt=__as_oak_string(ys);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})())),__as_oak_string(i+1)))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,acc,i) })()};return sub([],0) })()};partition=function partition(xs=null,by=null){return __oak_if(type(by),[[()=>(Symbol.for('int')),()=>(reduce(xs,[],function _(acc=null,x=null,i=null){return __oak_if((i%by),[[()=>(0),()=>(__oak_push(acc,[x]))],[()=>(__Oak_Empty),()=>((__oak_push((()=>{let __oak_acc_trgt=__as_oak_string(acc);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[((len(acc)-1))])||null:(__oak_acc_trgt[((len(acc)-1))]!==undefined?__oak_acc_trgt[((len(acc)-1))]:null)})(),x),acc))]])}))],[()=>(Symbol.for('function')),()=>((()=>{ let last;(last=function _(){return null});return reduce(xs,[],function _(acc=null,x=null){return (()=>{ let __oak_js_this;__oak_if((__oak_js_this=by(x)),[[()=>(last),()=>(__oak_push((()=>{let __oak_acc_trgt=__as_oak_string(acc);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[((len(acc)-1))])||null:(__oak_acc_trgt[((len(acc)-1))]!==undefined?__oak_acc_trgt[((len(acc)-1))]:null)})(),x))],[()=>(__Oak_Empty),()=>(__oak_push(acc,[x]))]]);(last=__oak_js_this);return acc })()}) })())]])};uniq=function uniq(xs=null,pred=null){return (()=>{ let last;let sub;let ys;(pred=__oak_js_default(pred,identity));(ys=[]);(last=function _(){return null});sub=function sub(i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(i=null){let p;let x;return __oak_if(i,[[()=>(len(xs)),()=>(ys)],[()=>(__Oak_Empty),()=>(__oak_if((p=pred((x=(()=>{let __oak_acc_trgt=__as_oak_string(xs);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})()))),[[()=>(last),()=>(__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1)))],[()=>(__Oak_Empty),()=>((__oak_push(ys,x),(last=p),__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1))))]]))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,i) })()};return sub(0) })()};find=function find(xs=null,pred=null){return (()=>{ let sub;sub=function sub(i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(i=null){return __oak_if(i,[[()=>(len(xs)),()=>(-1)],[()=>(__Oak_Empty),()=>(__oak_if(pred((()=>{let __oak_acc_trgt=__as_oak_string(xs);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})()),[[()=>(true),()=>(i)],[()=>(__Oak_Empty),()=>(__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1)))]]))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,i) })()};return sub(0) })()};indexOf=function indexOf(xs=null,x=null){return (()=>{ let sub;sub=function sub(i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(i=null){return __oak_if(i,[[()=>(len(xs)),()=>(-1)],[()=>(__Oak_Empty),()=>(__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(xs);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})(),[[()=>(x),()=>(i)],[()=>(__Oak_Empty),()=>(__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1)))]]))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,i) })()};return sub(0) })()};contains__oak_qm=function contains__oak_qm(xs=null,x=null){return (indexOf(xs,x)>-1)};values=function values(obj=null){return map(keys(obj),function _(key=null){return (()=>{let __oak_acc_trgt=__as_oak_string(obj);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(key)])||null:(__oak_acc_trgt[(key)]!==undefined?__oak_acc_trgt[(key)]:null)})()})};entries=function entries(obj=null){return map(keys(obj),function _(key=null){return [key,(()=>{let __oak_acc_trgt=__as_oak_string(obj);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(key)])||null:(__oak_acc_trgt[(key)]!==undefined?__oak_acc_trgt[(key)]:null)})()]})};merge=function merge(...os){return __oak_if(len(os),[[()=>(0),()=>(null)],[()=>(__Oak_Empty),()=>(reduce(os,(()=>{let __oak_acc_trgt=__as_oak_string(os);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[0])||null:(__oak_acc_trgt[0]!==undefined?__oak_acc_trgt[0]:null)})(),function _(acc=null,o=null){return (reduce(keys(o),acc,function _(root=null,k=null){return (()=>{let __oak_assgn_trgt=__as_oak_string(root);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign((k),(()=>{let __oak_acc_trgt=__as_oak_string(o);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(k)])||null:(__oak_acc_trgt[(k)]!==undefined?__oak_acc_trgt[(k)]:null)})()):((__oak_assgn_trgt[(k)])=(()=>{let __oak_acc_trgt=__as_oak_string(o);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(k)])||null:(__oak_acc_trgt[(k)]!==undefined?__oak_acc_trgt[(k)]:null)})());return __oak_assgn_trgt})()}))}))]])};once=function once(f=null){return (()=>{ let called__oak_qm;(called__oak_qm=false);return function _(...args){return __oak_if(true,[[()=>(called__oak_qm),()=>(null)],[()=>(__Oak_Empty),()=>(((called__oak_qm=true),f(...args)))]])} })()};loop=function loop(max=null,f=null){return (()=>{ let breaker;let broken;let sub;__oak_if(f,[[()=>(null),()=>(((f=max),(max=-1)))]]);(max=__oak_js_default(max,-1));(broken=false);breaker=function breaker(){return (broken=true)};sub=function sub(count=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(count=null){return __oak_if(count,[[()=>(max),()=>(null)],[()=>(__Oak_Empty),()=>(__oak_if(broken,[[()=>(true),()=>(null)],[()=>(__Oak_Empty),()=>((f(count,breaker),__oak_trampoline(__oak_trampolined_sub,__as_oak_string(count+1))))]]))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,count) })()};return sub(0) })()};debounce=function debounce(duration=null,firstCall=null,f=null){return (()=>{ let dargs;let debounced;let target;let waiting__oak_qm;__oak_if(f,[[()=>(null),()=>(([firstCall,f=null]=[Symbol.for('trailing'),firstCall]))]]);(dargs=null);(waiting__oak_qm=false);(target=(time()-duration));return debounced=function debounced(...args){return (()=>{ let tcall;(tcall=time());(dargs=args);return __oak_if(waiting__oak_qm,[[()=>(false),()=>(__oak_if((target<=tcall),[[()=>(true),()=>(((target=__as_oak_string(tcall+duration)),__oak_if(firstCall,[[()=>(Symbol.for('leading')),()=>(f(...dargs))],[()=>(Symbol.for('trailing')),()=>(((waiting__oak_qm=true),wait((target-time()),function _(){return ((waiting__oak_qm=false),f(...dargs))})))]])))],[()=>(__Oak_Empty),()=>((()=>{ let timeout;(waiting__oak_qm=true);(timeout=(target-tcall));(target=__as_oak_string(target+duration));return wait(timeout,function _(){return ((waiting__oak_qm=false),f(...dargs))}) })())]]))]]) })()} })()};println=function println(...xs){return __oak_if(len(xs),[[()=>(0),()=>(print(__Oak_String(`
`)))],[()=>(__Oak_Empty),()=>((()=>{ let out;(out=reduce(slice(xs,1),string((()=>{let __oak_acc_trgt=__as_oak_string(xs);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[0])||null:(__oak_acc_trgt[0]!==undefined?__oak_acc_trgt[0]:null)})()),function _(acc=null,x=null){return (__as_oak_string(__as_oak_string(acc+__Oak_String(` `))+string(x)))}));return print(__as_oak_string(out+__Oak_String(`
`))) })())]])};(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(_baseIterator,_baseIterator):((__oak_assgn_trgt._baseIterator)=_baseIterator);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(_hToN,_hToN):((__oak_assgn_trgt._hToN)=_hToN);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(_nToH,_nToH):((__oak_assgn_trgt._nToH)=_nToH);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(append,append):((__oak_assgn_trgt.append)=append);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(clamp,clamp):((__oak_assgn_trgt.clamp)=clamp);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(clone,clone):((__oak_assgn_trgt.clone)=clone);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(contains__oak_qm,contains__oak_qm):((__oak_assgn_trgt.contains__oak_qm)=contains__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(debounce,debounce):((__oak_assgn_trgt.debounce)=debounce);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(__oak_js_default,__oak_js_default):((__oak_assgn_trgt.__oak_js_default)=__oak_js_default);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(each,each):((__oak_assgn_trgt.each)=each);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(entries,entries):((__oak_assgn_trgt.entries)=entries);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(every,every):((__oak_assgn_trgt.every)=every);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(filter,filter):((__oak_assgn_trgt.filter)=filter);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(find,find):((__oak_assgn_trgt.find)=find);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(flatten,flatten):((__oak_assgn_trgt.flatten)=flatten);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(fromHex,fromHex):((__oak_assgn_trgt.fromHex)=fromHex);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(identity,identity):((__oak_assgn_trgt.identity)=identity);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(indexOf,indexOf):((__oak_assgn_trgt.indexOf)=indexOf);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(join,join):((__oak_assgn_trgt.join)=join);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(loop,loop):((__oak_assgn_trgt.loop)=loop);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(map,map):((__oak_assgn_trgt.map)=map);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(merge,merge):((__oak_assgn_trgt.merge)=merge);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(once,once):((__oak_assgn_trgt.once)=once);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(partition,partition):((__oak_assgn_trgt.partition)=partition);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(println,println):((__oak_assgn_trgt.println)=println);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(range,range):((__oak_assgn_trgt.range)=range);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(reduce,reduce):((__oak_assgn_trgt.reduce)=reduce);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(reverse,reverse):((__oak_assgn_trgt.reverse)=reverse);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(slice,slice):((__oak_assgn_trgt.slice)=slice);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(some,some):((__oak_assgn_trgt.some)=some);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(toHex,toHex):((__oak_assgn_trgt.toHex)=toHex);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(uniq,uniq):((__oak_assgn_trgt.uniq)=uniq);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(values,values):((__oak_assgn_trgt.values)=values);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(zip,zip):((__oak_assgn_trgt.zip)=zip);return __oak_assgn_trgt})();return __module })()}),__oak_modularize(__Oak_String(`str`),function _(){return (()=>{ let __module;let _extend;let _matchesAt__oak_qm;let _replaceNonEmpty;let _splitNonEmpty;let _trimEndNonEmpty;let _trimSpace;let _trimStartNonEmpty;let checkRange;let contains__oak_qm;let cut;let __oak_js_default;let digit__oak_qm;let endsWith__oak_qm;let indexOf;let join;let letter__oak_qm;let lower;let lower__oak_qm;let map;let padEnd;let padStart;let reduce;let replace;let slice;let space__oak_qm;let split;let startsWith__oak_qm;let trim;let trimEnd;let trimStart;let upper;let upper__oak_qm;let word__oak_qm;(__module={});({__oak_js_default:__oak_js_default=null,map:map=null,slice:slice=null,reduce:reduce=null}=__oak_module_import(__Oak_String(`std`)));checkRange=function checkRange(lo=null,hi=null){let checker;return checker=function checker(c=null){return (()=>{ let p;(p=codepoint(c));return __oak_and((lo<=p),(p<=hi)) })()}};(upper__oak_qm=checkRange(codepoint(__Oak_String(`A`)),codepoint(__Oak_String(`Z`))));(lower__oak_qm=checkRange(codepoint(__Oak_String(`a`)),codepoint(__Oak_String(`z`))));(digit__oak_qm=checkRange(codepoint(__Oak_String(`0`)),codepoint(__Oak_String(`9`))));(space__oak_qm=function _(c=null){return __oak_if(c,[[()=>(__Oak_String(` `)),()=>(true)],[()=>(__Oak_String(`	`)),()=>(true)],[()=>(__Oak_String(`
`)),()=>(true)],[()=>(__Oak_String(``)),()=>(true)],[()=>(__Oak_String(``)),()=>(true)],[()=>(__Oak_Empty),()=>(false)]])});letter__oak_qm=function letter__oak_qm(c=null){return __oak_or(upper__oak_qm(c),lower__oak_qm(c))};word__oak_qm=function word__oak_qm(c=null){return __oak_or(letter__oak_qm(c),digit__oak_qm(c))};join=function join(strings=null,joiner=null){return ((joiner=__oak_js_default(joiner,__Oak_String(``))),__oak_if(len(strings),[[()=>(0),()=>(__Oak_String(``))],[()=>(__Oak_Empty),()=>(reduce(slice(strings,1),(()=>{let __oak_acc_trgt=__as_oak_string(strings);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[0])||null:(__oak_acc_trgt[0]!==undefined?__oak_acc_trgt[0]:null)})(),function _(a=null,b=null){return __as_oak_string(__as_oak_string(a+joiner)+b)}))]]))};startsWith__oak_qm=function startsWith__oak_qm(s=null,prefix=null){return reduce(prefix,true,function _(acc=null,c=null,i=null){return (__oak_and(acc,(__oak_eq((()=>{let __oak_acc_trgt=__as_oak_string(s);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})(),c))))})};endsWith__oak_qm=function endsWith__oak_qm(s=null,suffix=null){return (()=>{ let diff;(diff=(len(s)-len(suffix)));return reduce(suffix,true,function _(acc=null,c=null,i=null){return (__oak_and(acc,(__oak_eq((()=>{let __oak_acc_trgt=__as_oak_string(s);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(__as_oak_string(i+diff))])||null:(__oak_acc_trgt[(__as_oak_string(i+diff))]!==undefined?__oak_acc_trgt[(__as_oak_string(i+diff))]:null)})(),c))))}) })()};_matchesAt__oak_qm=function _matchesAt__oak_qm(s=null,substr=null,idx=null){return __oak_if(len(substr),[[()=>(0),()=>(true)],[()=>(1),()=>(__oak_eq((()=>{let __oak_acc_trgt=__as_oak_string(s);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(idx)])||null:(__oak_acc_trgt[(idx)]!==undefined?__oak_acc_trgt[(idx)]:null)})(),substr))],[()=>(__Oak_Empty),()=>((()=>{ let max;let sub;(max=len(substr));sub=function sub(i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(i=null){return __oak_if(i,[[()=>(max),()=>(true)],[()=>(__Oak_Empty),()=>(__oak_if((()=>{let __oak_acc_trgt=__as_oak_string(s);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(__as_oak_string(idx+i))])||null:(__oak_acc_trgt[(__as_oak_string(idx+i))]!==undefined?__oak_acc_trgt[(__as_oak_string(idx+i))]:null)})(),[[()=>((()=>{let __oak_acc_trgt=__as_oak_string(substr);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})()),()=>(__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1)))],[()=>(__Oak_Empty),()=>(false)]]))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,i) })()};return sub(0) })())]])};indexOf=function indexOf(s=null,substr=null){return (()=>{ let max;let sub;(max=(len(s)-len(substr)));sub=function sub(i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(i=null){return __oak_if(_matchesAt__oak_qm(s,substr,i),[[()=>(true),()=>(i)],[()=>(__Oak_Empty),()=>(__oak_if((i<max),[[()=>(true),()=>(__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1)))],[()=>(__Oak_Empty),()=>(-1)]]))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,i) })()};return sub(0) })()};contains__oak_qm=function contains__oak_qm(s=null,substr=null){return (indexOf(s,substr)>=0)};cut=function cut(s=null,sep=null){let idx;return __oak_if((idx=indexOf(s,sep)),[[()=>(-1),()=>([s,__Oak_String(``)])],[()=>(__Oak_Empty),()=>([slice(s,0,idx),slice(s,__as_oak_string(idx+len(sep)))])]])};lower=function lower(s=null){return reduce(s,__Oak_String(``),function _(acc=null,c=null,i=null){return __oak_if(upper__oak_qm(c),[[()=>(true),()=>((()=>{let __oak_assgn_trgt=__as_oak_string(acc);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign((i),char(__as_oak_string(codepoint(c)+32))):((__oak_assgn_trgt[(i)])=char(__as_oak_string(codepoint(c)+32)));return __oak_assgn_trgt})())],[()=>(__Oak_Empty),()=>((()=>{let __oak_assgn_trgt=__as_oak_string(acc);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign((i),c):((__oak_assgn_trgt[(i)])=c);return __oak_assgn_trgt})())]])})};upper=function upper(s=null){return reduce(s,__Oak_String(``),function _(acc=null,c=null,i=null){return __oak_if(lower__oak_qm(c),[[()=>(true),()=>((()=>{let __oak_assgn_trgt=__as_oak_string(acc);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign((i),char((codepoint(c)-32))):((__oak_assgn_trgt[(i)])=char((codepoint(c)-32)));return __oak_assgn_trgt})())],[()=>(__Oak_Empty),()=>((()=>{let __oak_assgn_trgt=__as_oak_string(acc);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign((i),c):((__oak_assgn_trgt[(i)])=c);return __oak_assgn_trgt})())]])})};_replaceNonEmpty=function _replaceNonEmpty(s=null,old=null,__oak_js_new=null){return (()=>{ let lnew;let lold;let sub;(lold=len(old));(lnew=len(__oak_js_new));sub=function sub(acc=null,i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(acc=null,i=null){return __oak_if(_matchesAt__oak_qm(acc,old,i),[[()=>(true),()=>(__oak_trampoline(__oak_trampolined_sub,__as_oak_string(__as_oak_string(slice(acc,0,i)+__oak_js_new)+slice(acc,__as_oak_string(i+lold))),__as_oak_string(i+lnew)))],[()=>(__Oak_Empty),()=>(__oak_if((i<len(acc)),[[()=>(true),()=>(__oak_trampoline(__oak_trampolined_sub,acc,__as_oak_string(i+1)))],[()=>(__Oak_Empty),()=>(acc)]]))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,acc,i) })()};return sub(s,0) })()};replace=function replace(s=null,old=null,__oak_js_new=null){return __oak_if(old,[[()=>(__Oak_String(``)),()=>(s)],[()=>(__Oak_Empty),()=>(_replaceNonEmpty(s,old,__oak_js_new))]])};_splitNonEmpty=function _splitNonEmpty(s=null,sep=null){return (()=>{ let coll;let lsep;let sub;(coll=[]);(lsep=len(sep));sub=function sub(acc=null,i=null,last=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(acc=null,i=null,last=null){return __oak_if(_matchesAt__oak_qm(acc,sep,i),[[()=>(true),()=>((__oak_push(coll,slice(acc,last,i)),__oak_trampoline(__oak_trampolined_sub,acc,__as_oak_string(i+lsep),__as_oak_string(i+lsep))))],[()=>(__Oak_Empty),()=>(__oak_if((i<len(acc)),[[()=>(true),()=>(__oak_trampoline(__oak_trampolined_sub,acc,__as_oak_string(i+1),last))],[()=>(__Oak_Empty),()=>(__oak_push(coll,slice(acc,last)))]]))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,acc,i,last) })()};return sub(s,0,0) })()};split=function split(s=null,sep=null){return __oak_if(sep,[[()=>(null),()=>(reduce(s,[],function _(acc=null,c=null){return __oak_push(acc,c)}))],[()=>(__Oak_String(``)),()=>(reduce(s,[],function _(acc=null,c=null){return __oak_push(acc,c)}))],[()=>(__Oak_Empty),()=>(_splitNonEmpty(s,sep))]])};_extend=function _extend(pad=null,n=null){return (()=>{ let part;let sub;let times;(times=int((n/len(pad))));(part=(n%len(pad)));sub=function sub(base=null,i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(base=null,i=null){return __oak_if(i,[[()=>(0),()=>(__oak_push(base,slice(pad,0,part)))],[()=>(__Oak_Empty),()=>(__oak_trampoline(__oak_trampolined_sub,__oak_push(base,pad),(i-1)))]])});return __oak_resolve_trampoline(__oak_trampolined_sub,base,i) })()};return sub(__Oak_String(``),times) })()};padStart=function padStart(s=null,n=null,pad=null){return __oak_if((len(s)>=n),[[()=>(true),()=>(s)],[()=>(__Oak_Empty),()=>(__oak_push(_extend(pad,(n-len(s))),s))]])};padEnd=function padEnd(s=null,n=null,pad=null){return __oak_if((len(s)>=n),[[()=>(true),()=>(s)],[()=>(__Oak_Empty),()=>(__as_oak_string(s+_extend(pad,(n-len(s)))))]])};_trimStartNonEmpty=function _trimStartNonEmpty(s=null,prefix=null){return (()=>{ let idx;let lpref;let max;let sub;(max=len(s));(lpref=len(prefix));sub=function sub(i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(i=null){return __oak_if((i<max),[[()=>(true),()=>(__oak_if(_matchesAt__oak_qm(s,prefix,i),[[()=>(true),()=>(__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+lpref)))],[()=>(__Oak_Empty),()=>(i)]]))],[()=>(__Oak_Empty),()=>(i)]])});return __oak_resolve_trampoline(__oak_trampolined_sub,i) })()};(idx=sub(0));return slice(s,idx) })()};trimStart=function trimStart(s=null,prefix=null){return __oak_if(prefix,[[()=>(__Oak_String(``)),()=>(s)],[()=>(__Oak_Empty),()=>(_trimStartNonEmpty(s,prefix))]])};_trimEndNonEmpty=function _trimEndNonEmpty(s=null,suffix=null){return (()=>{ let idx;let lsuf;let sub;(lsuf=len(suffix));sub=function sub(i=null){return (()=>{ let __oak_trampolined_sub;(__oak_trampolined_sub=function _(i=null){return __oak_if((i>-1),[[()=>(true),()=>(__oak_if(_matchesAt__oak_qm(s,suffix,(i-lsuf)),[[()=>(true),()=>(__oak_trampoline(__oak_trampolined_sub,(i-lsuf)))],[()=>(__Oak_Empty),()=>(i)]]))],[()=>(__Oak_Empty),()=>(i)]])});return __oak_resolve_trampoline(__oak_trampolined_sub,i) })()};(idx=sub(len(s)));return slice(s,0,idx) })()};trimEnd=function trimEnd(s=null,suffix=null){return __oak_if(suffix,[[()=>(__Oak_String(``)),()=>(s)],[()=>(__Oak_Empty),()=>(_trimEndNonEmpty(s,suffix))]])};_trimSpace=function _trimSpace(s=null){return __oak_if(s,[[()=>(__Oak_String(``)),()=>(s)],[()=>(__Oak_Empty),()=>((()=>{ let firstNonSpace;let lastNonSpace;let subEnd;let subStart;subStart=function subStart(i=null){return (()=>{ let __oak_trampolined_subStart;(__oak_trampolined_subStart=function _(i=null){return __oak_if(space__oak_qm((()=>{let __oak_acc_trgt=__as_oak_string(s);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})()),[[()=>(true),()=>(__oak_trampoline(__oak_trampolined_subStart,__as_oak_string(i+1)))],[()=>(__Oak_Empty),()=>(i)]])});return __oak_resolve_trampoline(__oak_trampolined_subStart,i) })()};(firstNonSpace=subStart(0));subEnd=function subEnd(i=null){return (()=>{ let __oak_trampolined_subEnd;(__oak_trampolined_subEnd=function _(i=null){return __oak_if(space__oak_qm((()=>{let __oak_acc_trgt=__as_oak_string(s);return __is_oak_string(__oak_acc_trgt)?__as_oak_string(__oak_acc_trgt.valueOf()[(i)])||null:(__oak_acc_trgt[(i)]!==undefined?__oak_acc_trgt[(i)]:null)})()),[[()=>(true),()=>(__oak_trampoline(__oak_trampolined_subEnd,(i-1)))],[()=>(__Oak_Empty),()=>(i)]])});return __oak_resolve_trampoline(__oak_trampolined_subEnd,i) })()};(lastNonSpace=subEnd((len(s)-1)));return slice(s,firstNonSpace,__as_oak_string(lastNonSpace+1)) })())]])};trim=function trim(s=null,part=null){return __oak_if(part,[[()=>(null),()=>(_trimSpace(s))],[()=>(__Oak_Empty),()=>(trimStart(trimEnd(s,part),part))]])};(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(_extend,_extend):((__oak_assgn_trgt._extend)=_extend);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(_matchesAt__oak_qm,_matchesAt__oak_qm):((__oak_assgn_trgt._matchesAt__oak_qm)=_matchesAt__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(_replaceNonEmpty,_replaceNonEmpty):((__oak_assgn_trgt._replaceNonEmpty)=_replaceNonEmpty);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(_splitNonEmpty,_splitNonEmpty):((__oak_assgn_trgt._splitNonEmpty)=_splitNonEmpty);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(_trimEndNonEmpty,_trimEndNonEmpty):((__oak_assgn_trgt._trimEndNonEmpty)=_trimEndNonEmpty);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(_trimSpace,_trimSpace):((__oak_assgn_trgt._trimSpace)=_trimSpace);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(_trimStartNonEmpty,_trimStartNonEmpty):((__oak_assgn_trgt._trimStartNonEmpty)=_trimStartNonEmpty);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(checkRange,checkRange):((__oak_assgn_trgt.checkRange)=checkRange);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(contains__oak_qm,contains__oak_qm):((__oak_assgn_trgt.contains__oak_qm)=contains__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(cut,cut):((__oak_assgn_trgt.cut)=cut);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(__oak_js_default,__oak_js_default):((__oak_assgn_trgt.__oak_js_default)=__oak_js_default);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(digit__oak_qm,digit__oak_qm):((__oak_assgn_trgt.digit__oak_qm)=digit__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(endsWith__oak_qm,endsWith__oak_qm):((__oak_assgn_trgt.endsWith__oak_qm)=endsWith__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(indexOf,indexOf):((__oak_assgn_trgt.indexOf)=indexOf);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(join,join):((__oak_assgn_trgt.join)=join);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(letter__oak_qm,letter__oak_qm):((__oak_assgn_trgt.letter__oak_qm)=letter__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(lower,lower):((__oak_assgn_trgt.lower)=lower);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(lower__oak_qm,lower__oak_qm):((__oak_assgn_trgt.lower__oak_qm)=lower__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(map,map):((__oak_assgn_trgt.map)=map);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(padEnd,padEnd):((__oak_assgn_trgt.padEnd)=padEnd);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(padStart,padStart):((__oak_assgn_trgt.padStart)=padStart);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(reduce,reduce):((__oak_assgn_trgt.reduce)=reduce);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(replace,replace):((__oak_assgn_trgt.replace)=replace);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(slice,slice):((__oak_assgn_trgt.slice)=slice);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(space__oak_qm,space__oak_qm):((__oak_assgn_trgt.space__oak_qm)=space__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(split,split):((__oak_assgn_trgt.split)=split);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(startsWith__oak_qm,startsWith__oak_qm):((__oak_assgn_trgt.startsWith__oak_qm)=startsWith__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(trim,trim):((__oak_assgn_trgt.trim)=trim);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(trimEnd,trimEnd):((__oak_assgn_trgt.trimEnd)=trimEnd);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(trimStart,trimStart):((__oak_assgn_trgt.trimStart)=trimStart);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(upper,upper):((__oak_assgn_trgt.upper)=upper);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(upper__oak_qm,upper__oak_qm):((__oak_assgn_trgt.upper__oak_qm)=upper__oak_qm);return __oak_assgn_trgt})();(()=>{let __oak_assgn_trgt=__as_oak_string(__module);__is_oak_string(__oak_assgn_trgt)?__oak_assgn_trgt.assign(word__oak_qm,word__oak_qm):((__oak_assgn_trgt.word__oak_qm)=word__oak_qm);return __oak_assgn_trgt})();return __module })()}),(__Oak_Import_Aliases={}),__oak_module_import(__Oak_String(`src/app.js.oak`)))